<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    <link rel="canonical" href="http://rosindex.github.io/r/allegro_hand_ros/github-simlabrobotics-allegro_hand_ros/">
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    <script type="text/javascript" src="/js/jquery.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/jquery-cookie-1.4.1/jquery.cookie.js" type="text/javascript"></script>

    <script type="text/javascript" src="/js/ga.js" async></script>
    <script type="text/javascript" src="/js/toc.js"></script>

    <!-- Pre-fetch search index files -->
    
    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">


        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/rosindex/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="divider"></li>

                    <li class="disabled"><a href="/srvs/">Nodes</a></li>
                    <li class="disabled"><a href="/msgs/">Messages</a></li>
                    <li class="disabled"><a href="/srvs/">Services</a></li>
                    <li class="disabled"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li class="disabled"><a href="/categories/">Categories</a></li>
                    <li class="disabled"><a href="/tutorials">Tutorials</a></li>
                    <li class="disabled"><a href="/readmes">Readmes</a></li>
                    <li class="disabled"><a href="/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form action="/search/" role="form">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="q" placeholder="Search">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="submit"><span class="glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">allegro_hand_ros</li>
        <!--<li class="active">allegro_hand_ros</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-default" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="jade-option" class="distro-button btn btn-xs btn-default" href="#jade" data="jade">
      <input type="radio" name="options" id="jade-radio" autocomplete="off"> jade
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-default" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  
    <label id="hydro-option" class="distro-button btn btn-xs btn-default" href="#hydro" data="hydro">
      <input type="radio" name="options" id="hydro-radio" autocomplete="off"> hydro
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="groovy" id="groovy-option" class=" older-distro-option"  href="#groovy">
          <a href="#groovy" data="groovy" id="groovy-button">groovy</a>
        </li>
      
        <li data="fuerte" id="fuerte-option" class=" older-distro-option"  href="#fuerte">
          <a href="#fuerte" data="fuerte" id="fuerte-button">fuerte</a>
        </li>
      
        <li data="electric" id="electric-option" class="disabled older-distro-option"  href="#electric">
          <a href="#electric" data="electric" id="electric-button">electric</a>
        </li>
      
        <li data="diamondback" id="diamondback-option" class="disabled older-distro-option"  href="#diamondback">
          <a href="#diamondback" data="diamondback" id="diamondback-button">diamondback</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
    <div class="row">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/allegro_hand_ros">allegro_hand_ros</a> <small>repository</small></h3>
        
      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/repos/allegro_hand_ros"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-simlabrobotics-allegro_hand_ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-simlabrobotics-allegro_hand_ros" role="menuitem" tabindex="-1" href="/r/allegro_hand_ros/github-simlabrobotics-allegro_hand_ros" data="github-simlabrobotics-allegro_hand_ros">
                    <span class="glyphicon glyphicon-star"></span>
                    github-simlabrobotics-allegro_hand_ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

    </div>
  </div>
</div>


  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kinetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jade</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>indigo</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-groovy">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/simlabrobotics/allegro_hand_ros.git">https://github.com/simlabrobotics/allegro_hand_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2014-12-11
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNMAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/allegro_hand_core_grasp/github-simlabrobotics-allegro_hand_ros">allegro_hand_core_grasp</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_core_pd/github-simlabrobotics-allegro_hand_ros">allegro_hand_core_pd</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_core_velSat/github-simlabrobotics-allegro_hand_ros">allegro_hand_core_velSat</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_description/github-simlabrobotics-allegro_hand_ros">allegro_hand_description</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_keyboard/github-simlabrobotics-allegro_hand_ros">allegro_hand_keyboard</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/joint_state_publisher_experimental/github-simlabrobotics-allegro_hand_ros">joint_state_publisher_experimental</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/urdf_python/github-simlabrobotics-allegro_hand_ros">urdf_python</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="allegro_hand_ros-beta2">allegro_hand_ros beta2</h1>

<p>This ROS Stack includes code and tools useful to users of SimLab Co., Ltd.'s Allegro Hand.<br></p>

<p><strong>Note:</strong> This stack works with Allegro Hands v3.0 and up by befault.
See the end of this document for how to use this package with an older Allegro Hand.</p>

<p>For more information visit SimLab's <a href="http://www.simlab.co.kr/AllegroHand/wiki">Allegro Hand wiki</a>.<br>
ROS specific information can be found on the <a href="http://www.ros.org/wiki/allegro_hand_ros">ROS wiki</a>.</p>

<p><strong>Announcement:</strong> The next major release of this stack will include the integration of certain sensor systems</p>

<p><strong>Note:</strong> If controlling multiple allegro hands at once, please see the appropriate section below.</p>

<h2 id="contents">Contents</h2>

<ul>
<li><p><strong>allegro_hand_common:</strong> Contains files common to multiple Allegro Hand controllers like CAN communication code.
<strong>Note:</strong> libBHand (SimLab/KITECH's Allegro Hand Grasping Library) has been moved as a separate library available in SimLab's <a href="http://www.simlab.co.kr/AllegroHand/wiki">Allegro Hand wiki</a>.</p></li>
<li>
<p><strong>allegro_hand_controllers:</strong> Contains example controllers. </p>

<ul>
<li>PD Joint Space control</li>
<li>Velocity Saturation Joint Space Control</li>
<li>Grasping Library Interface</li>
</ul>
</li>
</ul>

<p>Please refer to PD Joint Space control folder for easily testing your own control code.</p>

<p><strong>Note:</strong> The PD and Grasp controllers, along with the Velocity Saturation controller, include two control loop timing examples each. One method uses a timer interrupt while the other loops. Please research the benefits and downfalls of each of these on ROS.org.</p>

<p><strong>Note:</strong> The prefered sampling method is utilizing the Hand's own real time clock running @ 333Hz by polling the CAN communication. In fact, ROS's inturrupt/sleep combination might cause instability in CAN communication resulting unstable hand motions. The solution is to have the main control loop polling the readDevice(). readDevice() will return when 16 encoder values are availbe in the CAN bus. Allegro Hand automatically writes 16 encoder values in every 1/333 sec. Notice that this polling method provides the stable sampling rate of 333 Hz!!!</p>

<ul>
<li><p><strong>allegro_hand_keyboard:</strong> Contains code for the keyboard node used to command different grasps. All commands are available when running the allegro_hand_core_grasp and only few commands are available when running allegro_hand_core_pd or running allegro_hand_core_pd controllers.</p></li>
<li><p><strong>allegro_hand_description:</strong> Contains the robot description URDF for the Allegro Hand. Currently only the right hand is complete.</p></li>
<li>
<p><strong>parameters:</strong></p>

<ul>
<li>
<strong>gains_pd.yaml:</strong> Contains PD gains used in allegro_hand_core_pd and allegro_hand_core_pd_slp.</li>
<li>
<strong>gains_velSat.yaml:</strong> Contains PD gains and velocity limits used in allegro_hand_core_velSat</li>
<li>
<strong>initial_position.yaml:</strong> Contains the initial position for the joints to got to when joint space controllers like <em>pd</em>, <em>pd_slp</em> and <em>velSat</em> are used. By default, this is the Allegro Hand <em>Home position</em>.</li>
<li>
<strong>zero.yaml:</strong> Offsets and directions for each of the 16 joints (Read in by the CAN communication code) Also includes Allegro Hand info specific to each hand like version number and serial number.
<strong>Note:</strong> The inclusion of "which_hand" (right/left) in this file has been deprecated. This must be specified as an argument when launching any of the allegro_hand* launchers.</li>
</ul>
</li>
</ul>

<p><strong>Note:</strong> If any of the gains files or the initial positions file are missing, the two joint space controllers (<em>pd</em> and <em>velSat</em>) will load default values sepcified in the srespective allegroNode.cpp file. If zero.yaml is not loaded, the Allegro Hand will shut down automatically.</p>

<h2 id="launchers">Launchers</h2>

<ul>
<li>
<strong>allegro_hand.launch:</strong> Launches Allegro Hand with specified controller (default = grasp). Also launches keyboard controller and rviz visualizer.</li>
<li>
<strong>allegro_hand_noRviz.launch:</strong> Launches Allegro Hand with specified controller (default = grasp). Also launches keyboard controller and DOES NOT launch rviz visualizer.<br>
</li>
<li>
<strong>allegro_hand_joint_gui.launch:</strong> Launches Allegro Hand with PD controller by defauly. Also launches a GUI interface for controlling each joint within its limits and rviz visualizer.</li>
<li>
<strong>allegro_hand_joint_gui_virtual.launch:</strong> Launches Allegro Hand kinematic model. Also launches a GUI interface for controlling each joint within its limits and rviz visualizer.</li>
</ul>

<p><strong>Note:</strong> All launch files (including virtual and actual hand) have the following arguments that can be specified:</p>

<ul>
<li>
<p><strong>HAND:=</strong> (Used to specify which hand is being controlled)</p>

<ul>
<li>right</li>
<li>left</li>
<li>
<strong>Note:</strong> There is no default. This arg must be specified.</li>
</ul>
</li>
<li>
<p><strong>NUM:=</strong> (Used to enumerate the hands when multiple will be controlled at once / Prevents naming and data conflicts)</p>

<ul>
<li>0 (default)</li>
<li>Any Integer (1, 2, 3, ... )<br>
</li>
</ul>
</li>
<li>
<p><strong>GROOVY:=</strong> (Specify ROS distro)</p>

<ul>
<li>false (default, used for ROS Fuerte)</li>
<li>true<br>
</li>
</ul>
</li>
</ul>

<p><strong>Note:</strong> Also, the following arguments can be specified for actual hardware launch file:</p>

<ul>
<li>
<p><strong>CONTROLLER:=</strong> (Specify the controller / Grasp library or simple joint space controller)</p>

<ul>
<li>grasp (default)</li>
<li>pd</li>
<li>velSat</li>
</ul>
</li>
<li>
<p><strong>pollling:=</strong> (Specify if CAN communication is done by polling)</p>

<ul>
<li>true (default)</li>
<li>false</li>
</ul>
</li>
<li>
<p><strong>ZEROS:=</strong> (Specify the encoder/motor offsets and directions parameter file)</p>

<ul>
<li>zero.yaml (default)</li>
<li>path to zero*.yaml file (ex. "parameters/zero_files/zero_SAH020CR020.yaml")</li>
</ul>
</li>
<li>
<p><strong>CAN_CH:=</strong> (Specify the CAN channel to which the hand is connected)</p>

<ul>
<li>/dev/pcan32 (default)</li>
<li>another PEAK CAN Channel (see in /dev/*)</li>
</ul>
</li>
</ul>

<p><br>
<strong>Examples:</strong><br>
* To launch the default grasp controller w/o polling for the right Allegro Hand using Fuerte you can use either of the following two commands:</p>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch CONTROLLER:=grasp HAND:=right GROOVY:=false polling:=false

</code></pre></div>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch

</code></pre></div>
<p><br> 
* For the PD controller w/ polling on a right hand using Groovy:</p>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch HAND:=right CONTROLLER:=pd GROOVY:=true polling:=true

</code></pre></div>
<p><br> 
* Using velocity saturation controller on a left, CAN Channel 1 and the offsets, etc. for Hand SAH020CR020:</p>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch CONTROLLER:=velSat HAND:=left CAN_CH:=1 ZEROS:=parameters/zero_files/zero_SAH020CR020.yaml

</code></pre></div>
<h2 id="controlling-more-than-one-hand">Controlling More Than One Hand</h2>

<p>*When running more than one hand using ROS, you must specify the number of the hand when launching.</p>
<div class="highlight"><pre><code class="language-" data-lang="">  roslaunch allegro_hand.launch HAND:=right ZEROS:=parameters/zero0.yaml NUM:=0 CAN_CH:=/dev/pcan0 
  roslaunch allegro_hand.launch HAND:=left  ZEROS:=parameters/zero1.yaml NUM:=1 CAN_CH:=/dev/pcan1

</code></pre></div>
<h2 id="thanks">Thanks</h2>

<p>Please be advised, this is the first beta release of the ROS stack for SimLab's Allegro Hand platform. There will likely be bugs and there is much room for improvement. </p>

<p>Please share you improvements to the code included in this release. Also, we would love to include the interesting controllers you may create as part of the package. Please keep an open line of contact as we continue to develop this software.</p>

<p>Thanks.</p>

<p>K.C. Chang <a href="mailto:kcchang@simlab.co.kr">kcchang@simlab.co.kr</a></p>

<p><br></p>

<p><strong>Note:</strong> As stated above, control loops utilizing both timer callbacks and ROS' Rate object are included. Generally, the timer callback is more reliable as it will run the control code in a new thread if the previous iteration fails to end within the given crol period. The rate object, aling with a spinOnce() and a sleep, generally does a fine job but some anomolies have been recognized where the loop toaks much too long and remains blocked until finishing. Using the rate/sleep method allows for simpler code. However, due to Allegro Hand's own real time clock sampling rate (@333Hz) to write 16 encoder values to the CAN bus, interrupt/rate/sleep can cause conflicts in the CAN communication resulting unstable motions. Finally, we mention our preferred solution one more time. The solution is to have the main control loop polling the CAN-readDevice(). readDevice() will return when 16 encoder values are availbe and read in the CAN bus. Since Allegro Hand automatically writes 16 encoder values in every 1/333 sec, this polling method provides the stable sampling rate of 333 Hz!!! </p>

<p>Loop:
* writeTorque()
* readEncoder()
* userInterface()
* computeTorque()</p>

<h2 id="for-allegro-hand-v3-0">For Allegro Hand v3.0</h2>

<p>TODO
Adapt to new versions of Ubuntu and ROS. Too many!!! :)</p>
</div></body></html>

            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-fuerte">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/simlabrobotics/allegro_hand_ros.git">https://github.com/simlabrobotics/allegro_hand_ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2014-12-11
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNMAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/allegro_hand_core_grasp/github-simlabrobotics-allegro_hand_ros">allegro_hand_core_grasp</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_core_pd/github-simlabrobotics-allegro_hand_ros">allegro_hand_core_pd</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_core_velSat/github-simlabrobotics-allegro_hand_ros">allegro_hand_core_velSat</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_description/github-simlabrobotics-allegro_hand_ros">allegro_hand_description</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/allegro_hand_keyboard/github-simlabrobotics-allegro_hand_ros">allegro_hand_keyboard</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/joint_state_publisher_experimental/github-simlabrobotics-allegro_hand_ros">joint_state_publisher_experimental</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/urdf_python/github-simlabrobotics-allegro_hand_ros">urdf_python</a></td>
                    <td>UNKNOWN</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="allegro_hand_ros-beta2">allegro_hand_ros beta2</h1>

<p>This ROS Stack includes code and tools useful to users of SimLab Co., Ltd.'s Allegro Hand.<br></p>

<p><strong>Note:</strong> This stack works with Allegro Hands v3.0 and up by befault.
See the end of this document for how to use this package with an older Allegro Hand.</p>

<p>For more information visit SimLab's <a href="http://www.simlab.co.kr/AllegroHand/wiki">Allegro Hand wiki</a>.<br>
ROS specific information can be found on the <a href="http://www.ros.org/wiki/allegro_hand_ros">ROS wiki</a>.</p>

<p><strong>Announcement:</strong> The next major release of this stack will include the integration of certain sensor systems</p>

<p><strong>Note:</strong> If controlling multiple allegro hands at once, please see the appropriate section below.</p>

<h2 id="contents">Contents</h2>

<ul>
<li><p><strong>allegro_hand_common:</strong> Contains files common to multiple Allegro Hand controllers like CAN communication code.
<strong>Note:</strong> libBHand (SimLab/KITECH's Allegro Hand Grasping Library) has been moved as a separate library available in SimLab's <a href="http://www.simlab.co.kr/AllegroHand/wiki">Allegro Hand wiki</a>.</p></li>
<li>
<p><strong>allegro_hand_controllers:</strong> Contains example controllers. </p>

<ul>
<li>PD Joint Space control</li>
<li>Velocity Saturation Joint Space Control</li>
<li>Grasping Library Interface</li>
</ul>
</li>
</ul>

<p>Please refer to PD Joint Space control folder for easily testing your own control code.</p>

<p><strong>Note:</strong> The PD and Grasp controllers, along with the Velocity Saturation controller, include two control loop timing examples each. One method uses a timer interrupt while the other loops. Please research the benefits and downfalls of each of these on ROS.org.</p>

<p><strong>Note:</strong> The prefered sampling method is utilizing the Hand's own real time clock running @ 333Hz by polling the CAN communication. In fact, ROS's inturrupt/sleep combination might cause instability in CAN communication resulting unstable hand motions. The solution is to have the main control loop polling the readDevice(). readDevice() will return when 16 encoder values are availbe in the CAN bus. Allegro Hand automatically writes 16 encoder values in every 1/333 sec. Notice that this polling method provides the stable sampling rate of 333 Hz!!!</p>

<ul>
<li><p><strong>allegro_hand_keyboard:</strong> Contains code for the keyboard node used to command different grasps. All commands are available when running the allegro_hand_core_grasp and only few commands are available when running allegro_hand_core_pd or running allegro_hand_core_pd controllers.</p></li>
<li><p><strong>allegro_hand_description:</strong> Contains the robot description URDF for the Allegro Hand. Currently only the right hand is complete.</p></li>
<li>
<p><strong>parameters:</strong></p>

<ul>
<li>
<strong>gains_pd.yaml:</strong> Contains PD gains used in allegro_hand_core_pd and allegro_hand_core_pd_slp.</li>
<li>
<strong>gains_velSat.yaml:</strong> Contains PD gains and velocity limits used in allegro_hand_core_velSat</li>
<li>
<strong>initial_position.yaml:</strong> Contains the initial position for the joints to got to when joint space controllers like <em>pd</em>, <em>pd_slp</em> and <em>velSat</em> are used. By default, this is the Allegro Hand <em>Home position</em>.</li>
<li>
<strong>zero.yaml:</strong> Offsets and directions for each of the 16 joints (Read in by the CAN communication code) Also includes Allegro Hand info specific to each hand like version number and serial number.
<strong>Note:</strong> The inclusion of "which_hand" (right/left) in this file has been deprecated. This must be specified as an argument when launching any of the allegro_hand* launchers.</li>
</ul>
</li>
</ul>

<p><strong>Note:</strong> If any of the gains files or the initial positions file are missing, the two joint space controllers (<em>pd</em> and <em>velSat</em>) will load default values sepcified in the srespective allegroNode.cpp file. If zero.yaml is not loaded, the Allegro Hand will shut down automatically.</p>

<h2 id="launchers">Launchers</h2>

<ul>
<li>
<strong>allegro_hand.launch:</strong> Launches Allegro Hand with specified controller (default = grasp). Also launches keyboard controller and rviz visualizer.</li>
<li>
<strong>allegro_hand_noRviz.launch:</strong> Launches Allegro Hand with specified controller (default = grasp). Also launches keyboard controller and DOES NOT launch rviz visualizer.<br>
</li>
<li>
<strong>allegro_hand_joint_gui.launch:</strong> Launches Allegro Hand with PD controller by defauly. Also launches a GUI interface for controlling each joint within its limits and rviz visualizer.</li>
<li>
<strong>allegro_hand_joint_gui_virtual.launch:</strong> Launches Allegro Hand kinematic model. Also launches a GUI interface for controlling each joint within its limits and rviz visualizer.</li>
</ul>

<p><strong>Note:</strong> All launch files (including virtual and actual hand) have the following arguments that can be specified:</p>

<ul>
<li>
<p><strong>HAND:=</strong> (Used to specify which hand is being controlled)</p>

<ul>
<li>right</li>
<li>left</li>
<li>
<strong>Note:</strong> There is no default. This arg must be specified.</li>
</ul>
</li>
<li>
<p><strong>NUM:=</strong> (Used to enumerate the hands when multiple will be controlled at once / Prevents naming and data conflicts)</p>

<ul>
<li>0 (default)</li>
<li>Any Integer (1, 2, 3, ... )<br>
</li>
</ul>
</li>
<li>
<p><strong>GROOVY:=</strong> (Specify ROS distro)</p>

<ul>
<li>false (default, used for ROS Fuerte)</li>
<li>true<br>
</li>
</ul>
</li>
</ul>

<p><strong>Note:</strong> Also, the following arguments can be specified for actual hardware launch file:</p>

<ul>
<li>
<p><strong>CONTROLLER:=</strong> (Specify the controller / Grasp library or simple joint space controller)</p>

<ul>
<li>grasp (default)</li>
<li>pd</li>
<li>velSat</li>
</ul>
</li>
<li>
<p><strong>pollling:=</strong> (Specify if CAN communication is done by polling)</p>

<ul>
<li>true (default)</li>
<li>false</li>
</ul>
</li>
<li>
<p><strong>ZEROS:=</strong> (Specify the encoder/motor offsets and directions parameter file)</p>

<ul>
<li>zero.yaml (default)</li>
<li>path to zero*.yaml file (ex. "parameters/zero_files/zero_SAH020CR020.yaml")</li>
</ul>
</li>
<li>
<p><strong>CAN_CH:=</strong> (Specify the CAN channel to which the hand is connected)</p>

<ul>
<li>/dev/pcan32 (default)</li>
<li>another PEAK CAN Channel (see in /dev/*)</li>
</ul>
</li>
</ul>

<p><br>
<strong>Examples:</strong><br>
* To launch the default grasp controller w/o polling for the right Allegro Hand using Fuerte you can use either of the following two commands:</p>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch CONTROLLER:=grasp HAND:=right GROOVY:=false polling:=false

</code></pre></div>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch

</code></pre></div>
<p><br> 
* For the PD controller w/ polling on a right hand using Groovy:</p>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch HAND:=right CONTROLLER:=pd GROOVY:=true polling:=true

</code></pre></div>
<p><br> 
* Using velocity saturation controller on a left, CAN Channel 1 and the offsets, etc. for Hand SAH020CR020:</p>
<div class="highlight"><pre><code class="language-" data-lang="">roslaunch allegro_hand.launch CONTROLLER:=velSat HAND:=left CAN_CH:=1 ZEROS:=parameters/zero_files/zero_SAH020CR020.yaml

</code></pre></div>
<h2 id="controlling-more-than-one-hand">Controlling More Than One Hand</h2>

<p>*When running more than one hand using ROS, you must specify the number of the hand when launching.</p>
<div class="highlight"><pre><code class="language-" data-lang="">  roslaunch allegro_hand.launch HAND:=right ZEROS:=parameters/zero0.yaml NUM:=0 CAN_CH:=/dev/pcan0 
  roslaunch allegro_hand.launch HAND:=left  ZEROS:=parameters/zero1.yaml NUM:=1 CAN_CH:=/dev/pcan1

</code></pre></div>
<h2 id="thanks">Thanks</h2>

<p>Please be advised, this is the first beta release of the ROS stack for SimLab's Allegro Hand platform. There will likely be bugs and there is much room for improvement. </p>

<p>Please share you improvements to the code included in this release. Also, we would love to include the interesting controllers you may create as part of the package. Please keep an open line of contact as we continue to develop this software.</p>

<p>Thanks.</p>

<p>K.C. Chang <a href="mailto:kcchang@simlab.co.kr">kcchang@simlab.co.kr</a></p>

<p><br></p>

<p><strong>Note:</strong> As stated above, control loops utilizing both timer callbacks and ROS' Rate object are included. Generally, the timer callback is more reliable as it will run the control code in a new thread if the previous iteration fails to end within the given crol period. The rate object, aling with a spinOnce() and a sleep, generally does a fine job but some anomolies have been recognized where the loop toaks much too long and remains blocked until finishing. Using the rate/sleep method allows for simpler code. However, due to Allegro Hand's own real time clock sampling rate (@333Hz) to write 16 encoder values to the CAN bus, interrupt/rate/sleep can cause conflicts in the CAN communication resulting unstable motions. Finally, we mention our preferred solution one more time. The solution is to have the main control loop polling the CAN-readDevice(). readDevice() will return when 16 encoder values are availbe and read in the CAN bus. Since Allegro Hand automatically writes 16 encoder values in every 1/333 sec, this polling method provides the stable sampling rate of 333 Hz!!! </p>

<p>Loop:
* writeTorque()
* readEncoder()
* userInterface()
* computeTorque()</p>

<h2 id="for-allegro-hand-v3-0">For Allegro Hand v3.0</h2>

<p>TODO
Adapt to new versions of Ubuntu and ROS. Too many!!! :)</p>
</div></body></html>

            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-electric">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>electric</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-diamondback">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>diamondback</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src="/js/distro_switch.js"></script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/rosindex">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">rosindex</span>
          </a>
          |
          <em>generated on 2016-07-04</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
