<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    <link rel="canonical" href="http://rosindex.github.io/p/firos/github-Ikergune-firos/">
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    <script type="text/javascript" src="/js/jquery.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/jquery-cookie-1.4.1/jquery.cookie.js" type="text/javascript"></script>

    <script type="text/javascript" src="/js/ga.js" async></script>
    <script type="text/javascript" src="/js/toc.js"></script>

    <!-- Pre-fetch search index files -->
    
    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">


        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/rosindex/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="divider"></li>

                    <li class="disabled"><a href="/srvs/">Nodes</a></li>
                    <li class="disabled"><a href="/msgs/">Messages</a></li>
                    <li class="disabled"><a href="/srvs/">Services</a></li>
                    <li class="disabled"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li class="disabled"><a href="/categories/">Categories</a></li>
                    <li class="disabled"><a href="/tutorials">Tutorials</a></li>
                    <li class="disabled"><a href="/readmes">Readmes</a></li>
                    <li class="disabled"><a href="/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form action="/search/" role="form">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="q" placeholder="Search">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="submit"><span class="glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li><a href="/r/firos/github-Ikergune-firos">firos</a></li>
        <li class="active">firos
        </li>
        <!--<li class="active">firos</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-default" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="jade-option" class="distro-button btn btn-xs btn-default" href="#jade" data="jade">
      <input type="radio" name="options" id="jade-radio" autocomplete="off"> jade
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-primary" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  
    <label id="hydro-option" class="distro-button btn btn-xs btn-default" href="#hydro" data="hydro">
      <input type="radio" name="options" id="hydro-radio" autocomplete="off"> hydro
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="groovy" id="groovy-option" class="disabled older-distro-option"  href="#groovy">
          <a href="#groovy" data="groovy" id="groovy-button">groovy</a>
        </li>
      
        <li data="fuerte" id="fuerte-option" class="disabled older-distro-option"  href="#fuerte">
          <a href="#fuerte" data="fuerte" id="fuerte-button">fuerte</a>
        </li>
      
        <li data="electric" id="electric-option" class="disabled older-distro-option"  href="#electric">
          <a href="#electric" data="electric" id="electric-button">electric</a>
        </li>
      
        <li data="diamondback" id="diamondback-option" class="disabled older-distro-option"  href="#diamondback">
          <a href="#diamondback" data="diamondback" id="diamondback-button">diamondback</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kinetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jade</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/firos">firos</a> <small>package from <a style="text-decoration:none" href="/r/firos/github-Ikergune-firos">firos</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

<span class="glyphicon glyphicon-file"></span> firos
</span>
            
          
      </td>
    </tr>
  </table>
  <div class="top-buffer distro distro-indigo">
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/packages/firos"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-none"></span>
                  github-Ikergune-firos
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-Ikergune-firos" role="menuitem" tabindex="-1" href="/p/firos/github-Ikergune-firos" data="github-Ikergune-firos">
                    <span class="glyphicon glyphicon-none"></span>
                    github-Ikergune-firos
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center" target="_blank" href="http://docs.ros.org/indigo/api/firos/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span><br> API Docs</a>
  <a class="list-group-item text-center" target="_blank" href="https://github.com//Ikergune/firos/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span><br> Browse Code</a>
  <a class="list-group-item text-center" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:firos/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span><br> Get Help</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://wiki.ros.org/firos?distro=indigo"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span><br> Wiki</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=firos&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span><br> Eco</a>
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="indigo-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#indigo-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#indigo-assets" data-toggle="tab"><span class="label label-primary">3</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#indigo-deps" data-toggle="tab"><span class="label label-primary">6</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#indigo-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="indigo-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.1.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>MIT</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Buildtool</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/Ikergune/firos.git">https://github.com/Ikergune/firos.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2015-09-25
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            
    
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Iñigo Gonzalez</li>
                
                  <li>Jose Jaime</li>
                
                  <li>Fernando Herranz</li>
                
                  <li>Angel Hernandez</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Iñigo Gonzalez</li>
                
                  <li>igonzalez <AT> ikergune.com</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-file"></span> README</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="firos">FIROS</h1>

<p>FIROS is a tool that helps connecting robots to the cloud. For this purpose it uses the Robot Operating System (ROS, <a href="http://www.ros.org/">http://www.ros.org/</a>) and the FIWARE  Context Broker (<a href="http://catalogue.fiware.org/enablers/publishsubscribe-context-broker-orion-context-broker">http://catalogue.fiware.org/enablers/publishsubscribe-context-broker-orion-context-broker</a>) as a way to publish and listen robot's data.</p>

<p>FIROS works as a translator between the robotics field and the cloud world, transforming ROS messages into NGSI to publish them in the cloud, and vice versa.</p>

<p>This project is part of <a href="http://www.fiware.org">FIWARE</a>.</p>

<h1 id="installing-firos">Installing FIROS</h1>

<h2 id="requirements">Requirements</h2>

<ul>
<li>  Ubuntu</li>
<li>  Python 2.7 or greater</li>
<li>  Nodejs v0.10 or greater</li>
<li>  ROS Hydro or greater <a href="http://wiki.ros.org/es/ROS/Installation">http://wiki.ros.org/es/ROS/Installation</a>
</li>
</ul>

<h2 id="installation">Installation</h2>

<ol>
<li> Make sure you have set your working space (<a href="http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment">http://wiki.ros.org/ROS/Tutorials/InstallingandConfiguringROSEnvironment</a>)</li>
<li> Open a Terminal and navigate to the ROS workspace you want to use. If you just followed the ROS environment tutorial, it will be ~/catkin_ws.</li>
</ol>

<p><code>cd ~/catkin_ws/src</code></p>

<ol>
<li> Clone the FIROS git repository into your ROS workspace.</li>
</ol>

<p><code>git clone https://github.com/ikergune/firos</code></p>

<ol>
<li> Build the FIROS package with the following commands. This will create a devel and build folder under your workspace.</li>
</ol>

<p><code>cd ~/catkin_ws</code><br>
   <code>catkin_make</code></p>

<ol>
<li> For convenience, you may wish to source your setup.sh script from your .bashrc so that your environment is ready as soon as you log in. e.g. </li>
</ol>

<p><code>echo "source ~/catkin_ws/devel/setup.bash" &gt;&gt; ~/.bashrc</code></p>

<ol>
<li> Execute "source devel/setup.bash" to allow the current command line instance to use FIROS</li>
</ol>

<p>FIROS is now installed in your robot! </p>

<p><strong>Important Note:</strong> The first time FIROS is launched it will ask you for root permissions to install it's dependencies</p>

<h1 id="configuring-firos">Configuring FIROS</h1>

<p>FIROS has several configuration files located at <em>src/firos/config</em>.</p>

<h2 id="config-json">config.json</h2>

<p>This file contains the configuration related to FIROS launching environment. Here is a description of each parameter:</p>

<ul>
<li>  <em>environment</em>: These parameters take care of the <em>local</em>, <em>development</em> and <em>production</em> environment configurations by setting up the `<em>context broker's IP</em>, <em>port</em> and <em>FIROS rest apis' port</em>. 
FIROS will use an environment's configuration based this value, but there can be as many environments as you want.</li>
<li>  <em>server</em>: It contains information related to the FIROS server

<ul>
<li>
<em>port</em>: The port in which FIROS is listening. If you want to let access outside of your local network, you might want to redirect that port on your router.</li>
</ul>
</li>
<li>  <em>contextbroker</em>: Contains information related to the Context broker configuration

<ul>
<li>  <em>address</em>: Context broker's IP address</li>
<li>  <em>port</em>: Context broker's port</li>
<li>  <em>subscription</em>: Context broker's subscription information

<ul>
<li>  <em>throttling</em>: The update frequency at which the Context Broker sends updates to the robot.</li>
<li>  <em>subscription_length</em>: The subscription expiration time</li>
<li>  <em>subscription_refresh_delay</em>: The subscription refresh rate in days in order to avoid its expiration</li>
</ul>
</li>
</ul>
</li>
<li>  <em>interface</em>: Network configuration of the card in use

<ul>
<li>  <em>public</em>: Public IP. Do not forget to redirect the proper ports in your network</li>
<li>  <em>wlan0, et0, tun0</em>, etc: Different network interface configuration.</li>
</ul>
</li>
<li>  <em>log_level</em>: It represents the verbosity of the logging system for FIROS. Available options are as follows: <em>"NONE", "INFO", "DEBUG" ,"WARNING", "ERROR"</em> and <em>"CRITICAL"</em>
</li>
</ul>

<p>Here is an example of a <em>config.json</em> file for a <em>local</em> environment:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="s2">"environment"</span><span class="err">:</span> <span class="s2">"local"</span><span class="p">,</span>

  <span class="s2">"local"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"server"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"port"</span><span class="err">:</span> <span class="mi">10100</span>
    <span class="p">},</span>
    <span class="s2">"contextbroker"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"address"</span>   <span class="err">:</span> <span class="s2">"192.168.43.159"</span><span class="p">,</span>
        <span class="s2">"port"</span>      <span class="err">:</span> <span class="mi">1026</span><span class="p">,</span>
        <span class="s2">"subscription"</span><span class="err">:</span> <span class="p">{</span>
          <span class="s2">"throttling"</span><span class="err">:</span> <span class="s2">"PT0S"</span><span class="p">,</span>
          <span class="s2">"subscription_length"</span><span class="err">:</span> <span class="s2">"P1M"</span><span class="p">,</span>
          <span class="s2">"subscription_refresh_delay"</span><span class="err">:</span> <span class="mi">20</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">"log_level"</span><span class="err">:</span> <span class="s2">"INFO"</span><span class="p">,</span>
    <span class="s2">"interface"</span><span class="err">:</span> <span class="s2">"public"</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<h2 id="robotdescriptions-json">robotdescriptions.json</h2>

<p>Robots may have some public files so users can understand some characteristics or even use their devices. All the references contained in this file can be published on the Context Broker; to do so, just follow the next example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">"turtle1"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"descriptions"</span><span class="err">:</span> <span class="p">[</span>
        <span class="s2">"http://wiki.ros.org/ROS/Tutorials/UsingRxconsoleRoslaunch"</span><span class="p">,</span>
        <span class="s2">"http://wiki.ros.org/ROS/Tutorials/UnderstandingNodes"</span>
    <span class="p">]</span>
<span class="p">},</span><span class="s2">"youbot"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"descriptions"</span><span class="err">:</span> <span class="p">[</span>
        <span class="s2">"http://wiki.ros.org/ROS/Tutorials/UnderstandingServicesParams"</span><span class="p">,</span>
        <span class="s2">"http://wiki.ros.org/ROS/Tutorials/UsingRqtconsoleRoslaunch"</span>
    <span class="p">]</span>
<span class="p">}</span>

</code></pre></div>
<h2 id="whitelist-json">whitelist.json</h2>

<p>Everytime FIROS is launched or whenever it gets a notification about a new robot being connected, it looks the available <em>topics</em> on the robot. this configuration file contains a list of allowed robots and topics to be connected to this particular instance of FIROS. It also defines whether the topic is a <em>publisher</em>, when FIROS transmits data to it, or a <em>subscriber</em> in case FIROS should be listening to any incoming information on that topic.
Names corresponding to both <em>robots</em> and <em>topics</em> can also be <em>regular expressions</em> avoiding the '^' at the beginning and '$' at the end. Here is an example:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel"</span><span class="p">],</span>
    <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"pose"</span><span class="p">]</span>
<span class="p">},</span>
<span class="s2">"robot\\w+"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel.*teleop"</span><span class="p">,</span> <span class="s2">".*move_base/goal"</span><span class="p">,</span> <span class="s2">".*move_base/cancel"</span><span class="p">],</span>
    <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">".*move_base/result"</span><span class="p">]</span>
<span class="p">}</span>

</code></pre></div>
<h2 id="robots-json">robots.json</h2>

<p>It is also possible to force some robot connections. This is done by adding the robot name, its topics and roles to the <em>robots.json</em> file. The role parameter must be the same as the on in the <em>whitelist.json</em> file and each topic must also contain a <em>type</em> parameter to define its role. The next file is an example of this configuration:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">"robot1"</span><span class="err">:</span><span class="p">{</span>
    <span class="s2">"topics"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"cmd_vel_mux/input/teleop"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"geometry_msgs.msg.Twist"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"publisher"</span>
        <span class="p">},</span>
        <span class="s2">"move_base/goal"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"move_base_msgs.msg.MoveBaseActionGoal"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"publisher"</span>
        <span class="p">},</span>
        <span class="s2">"move_base/result"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"move_base_msgs.msg.MoveBaseActionResult"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"subscriber"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">},</span><span class="s2">"turtle1"</span><span class="err">:</span><span class="p">{</span>
    <span class="s2">"topics"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"cmd_vel"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"geometry_msgs.msg.Twist"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"publisher"</span>
        <span class="p">},</span>
        <span class="s2">"pose"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"turtlesim.msg.Pose"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"subscriber"</span>
        <span class="p">}</span>
    <span class="p">}</span>
 <span class="p">}</span>

</code></pre></div>
<h1 id="getting-topic-types">Getting Topic Types</h1>

<p>There is also a way to request the topic type, which is usefull in order to add them to the previous <em>robots.json</em> file. The following example is based on the <em>Turtlesim</em> example of ROS available here <a href="http://wiki.ros.org/turtlesim">http://wiki.ros.org/turtlesim</a>. Here are the steps to follow:</p>

<ol>
<li> Launch the <code>rostopic list</code> command. This will show all the registered topics.</li>
<li> Now that you know the name of the topic, just execute the following command: <code>rostopic info TOPIC_NAME</code>. It will result on something like this:</li>
</ol>

<!-- -->

<p>`
    rostopic info /turtle1/cmd_vel
        Type: geometry_msgs/Twist</p>
<div class="highlight"><pre><code class="language-" data-lang="">    Publishers: None

    Subscribers:
        * /turtlesim (http://192.168.4.42 :45825/)`
</code></pre></div>
<p>This means that the robot <code>turtle1</code> is listening to data published on <code>/turtle1/cmd_vel</code> so FIROS should be publishing on it. 
The <em>type</em> of the <code>/turtle1/cmd_vel</code> is <code>geometry_msgs/Twist</code> what internally corresponds to the <code>geometry_msgs.msg.Twist</code> package</p>

<p>Here is another example:
`
    rostopic info /turtle1/pose
        Type: turtlesim/Pose</p>
<div class="highlight"><pre><code class="language-" data-lang="">    Publishers:
        * /turtlesim (http://192.168.4.42 :45825/)

    Subscribers: None`
</code></pre></div>
<p>In this case, <code>turtle1</code> is publishing data on <code>/turtle1/pose</code>, so FIROS can listen to it. As seen before, the <em>type</em> <code>turtlesim/Pose</code> corresponds to the internal package <code>turtlesim.msg.Pose</code></p>

<p>So we can deduce the slice of <em>robots.json</em> related to <code>turtle1</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">"turtle1"</span><span class="err">:</span><span class="p">{</span>
    <span class="s2">"topics"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"cmd_vel"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"geometry_msgs.msg.Twist"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"publisher"</span>
        <span class="p">},</span>
        <span class="s2">"pose"</span><span class="err">:</span> <span class="p">{</span>
            <span class="s2">"msg"</span><span class="err">:</span> <span class="s2">"turtlesim.msg.Pose"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="err">:</span> <span class="s2">"subscriber"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<h1 id="firos-topics">FIROS Topics</h1>

<p>FIROS is listening to 2 topics in order to handle robot connections.</p>

<h2 id="firos-connect">/FIROS/connect</h2>

<p>Calling this topic with an empty string will make FIROS connect to new robots in case their names and topics match the ones allowed on the <em>whitelist.json</em></p>

<h2 id="firos-disconnect">/FIROS/disconnect</h2>

<p>Disconnecting robots from FIROS is possible by simply calling this topic with the robot name.
<code>/FIROS/disconnect turtle1</code></p>

<h1 id="api">API</h1>

<p>FIROS has several REST entry points that are used for connecting with the context broker or getting data from FIROS.</p>

<p>You can find FIROS api at <a href="http://docs.firos.apiary.io/#">http://docs.firos.apiary.io/#</a></p>

<h2 id="get-robots">GET /robots</h2>

<p>Get robots handled by FIROS with their corresponding <em>topics</em>. Each <em>topic</em> contains the <code>name</code>, <code>type</code>, <code>role</code> and <code>structure</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"turtle1"</span><span class="p">,</span>
        <span class="s2">"topics"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"turtlesim.msg.Pose"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"pose"</span><span class="p">,</span>
                <span class="s2">"structure"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"y"</span><span class="p">:</span> <span class="s2">"float32"</span><span class="p">,</span>
                    <span class="s2">"x"</span><span class="p">:</span> <span class="s2">"float32"</span><span class="p">,</span>
                    <span class="s2">"linear_velocity"</span><span class="p">:</span> <span class="s2">"float32"</span><span class="p">,</span>
                    <span class="s2">"angular_velocity"</span><span class="p">:</span> <span class="s2">"float32"</span><span class="p">,</span>
                    <span class="s2">"theta"</span><span class="p">:</span> <span class="s2">"float32"</span>
                <span class="p">},</span>
                <span class="s2">"pubsub"</span><span class="p">:</span> <span class="s2">"subscriber"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"geometry_msgs.msg.Twist"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"cmd_vel"</span><span class="p">,</span>
                <span class="s2">"structure"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"linear"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"y"</span><span class="p">:</span> <span class="s2">"float64"</span><span class="p">,</span>
                        <span class="s2">"x"</span><span class="p">:</span> <span class="s2">"float64"</span><span class="p">,</span>
                        <span class="s2">"z"</span><span class="p">:</span> <span class="s2">"float64"</span>
                    <span class="p">},</span>
                    <span class="s2">"angular"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"y"</span><span class="p">:</span> <span class="s2">"float64"</span><span class="p">,</span>
                        <span class="s2">"x"</span><span class="p">:</span> <span class="s2">"float64"</span><span class="p">,</span>
                        <span class="s2">"z"</span><span class="p">:</span> <span class="s2">"float64"</span>
                    <span class="p">}</span>
                <span class="p">},</span>
                <span class="s2">"pubsub"</span><span class="p">:</span> <span class="s2">"publisher"</span>
            <span class="p">}</span>
        <span class="p">],</span>
    <span class="p">}</span>
<span class="p">]</span>

</code></pre></div>
<h2 id="get-robot-name">GET /robot/NAME</h2>

<p>Get the data published by the robot on Context Broker. It builds a query using the <em>NAME</em>, what will return data using the following structure:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"turtle1"</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"ROBOT"</span><span class="p">,</span>
        <span class="s2">"attributes"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"COMMAND"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"COMMAND"</span><span class="p">,</span>
                <span class="s2">"value"</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">"pose"</span>
                <span class="p">]</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"DescriptionData"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"descriptions"</span><span class="p">,</span>
                <span class="s2">"value"</span><span class="p">:</span> <span class="s2">"http://wiki.ros.org/ROS/Tutorials/UsingRxconsoleRoslaunch||http://wiki.ros.org/ROS/Tutorials/UnderstandingNodes"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"turtlesim.msg.Pose"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"pose"</span><span class="p">,</span>
                <span class="s2">"value"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"FIROSstamp"</span><span class="p">:</span> <span class="mf">1424423606.27683</span><span class="p">,</span>
                    <span class="s2">"linear_velocity"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">"theta"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                    <span class="s2">"y"</span><span class="p">:</span> <span class="mf">5.544444561004639</span><span class="p">,</span>
                    <span class="s2">"x"</span><span class="p">:</span> <span class="mf">5.885244369506836</span><span class="p">,</span>
                    <span class="s2">"angular_velocity"</span><span class="p">:</span> <span class="mi">0</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"geometry_msgs.msg.Twist"</span><span class="p">,</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"cmd_vel"</span><span class="p">,</span>
                <span class="s2">"value"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"FIROSstamp"</span><span class="p">:</span> <span class="mi">1424423604309</span><span class="p">,</span>
                    <span class="s2">"linear"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"y"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">"x"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">"z"</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="s2">"angular"</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s2">"y"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">"x"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="s2">"z"</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">]</span>

</code></pre></div>
<h2 id="post-firos">POST /FIROS</h2>

<p>This API handles the subscription data of the context broker. </p>

<h2 id="post-robot-connect">POST /robot/connect</h2>

<p>This API makes FIROS connecting to new robots in case their names and topics match the ones allowed on the <em>whitelist.json</em></p>

<h2 id="post-robot-diconnect-name">POST /robot/diconnect/NAME</h2>

<p>This API forces FIROS to disconnect from the robot specified by the <em>NAME</em> parameter. It will also delete any connection and entity associated to the particular robot on the Context Broker.</p>

<h2 id="post-whitelist-write">POST /whitelist/write</h2>

<p>This API overwrites or creates entries in the robot <em>whitelist</em>. This can be done by sending the following data:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"pose"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"robot\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel.*teleop"</span><span class="p">,</span> <span class="s2">".*move_base/goal"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">".*move_base/result"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>NOTE: In case you want to keep any element, it must be sent along with the ones to be replaced.</p>

<p>EXAMPLE:</p>

<p>Take this <em>whitelist.json</em> as a starting point:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"pose"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>Now, the following command is sent:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">POST</span> <span class="o">/</span><span class="nx">whitelist</span><span class="o">/</span><span class="nx">write</span>
<span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel2"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>The resulting <em>whitelist</em> will be as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel2"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<h2 id="post-whitelist-remove">POST /whitelist/remove</h2>

<p>This API removes elements from the <em>whitelist</em>. The format is as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"pose"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"robot\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel.*teleop"</span><span class="p">,</span> <span class="s2">".*move_base/goal"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>EXAMPLE:</p>

<p>Take this <em>whitelist.json</em> as a starting point:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"pose"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"robot\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel.*teleop"</span><span class="p">,</span> <span class="s2">".*move_base/goal"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">".*move_base/result"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>Now, the following json is sent:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">POST</span> <span class="o">/</span><span class="nx">whitelist</span><span class="o">/</span><span class="nx">remove</span>
<span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"pose"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">"robot\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel.*teleop"</span><span class="p">,</span> <span class="s2">".*move_base/goal"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<p>The resulting <em>whitelist</em> will look as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">"turtle\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[</span><span class="s2">"cmd_vel"</span><span class="p">],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="s2">"robot\\w+"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"publisher"</span><span class="err">:</span> <span class="p">[],</span>
        <span class="s2">"subscriber"</span><span class="err">:</span> <span class="p">[</span><span class="s2">".*move_base/result"</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div>
<h2 id="post-whitelist-restore">POST /whitelist/restore</h2>

<p>This API restores the <em>whitelist</em> file to its initial state.</p>

<h1 id="ent-to-end-tests">Ent-to-end tests</h1>

<p>In order to test if firos is publishing into ContextBroker you can run the following command:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~$ </span>rostopic pub -1 s1 std_msgs/String <span class="s2">"data: 'test'"</span>  __ns:<span class="o">=</span>end_end_test

</code></pre></div>
<p>And then:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~$ </span><span class="o">(</span>curl contextbroker_ip:1026/v1/queryContext -s -S --header <span class="s1">'Content-Type: application/json'</span> --header <span class="s1">'Accept: application/json'</span> -d @- | python -mjson.tool<span class="o">)</span> <span class="sh">&lt;&lt;EOF
{
        "entities": [
                {
                        "type": "ROBOT",
                        "isPattern": "true",
                        "id": "end_end_test"
                }
        ],
        "attributes": [
                "s1"
        ]
}
EOF

</span></code></pre></div>
<p>If everything went right you'll get something like this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
        <span class="s2">"contextResponses"</span><span class="err">:</span> <span class="p">[</span>
                <span class="p">{</span>
                        <span class="s2">"contextElement"</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">"attributes"</span><span class="p">:</span> <span class="p">[</span>
                                        <span class="p">{</span>
                                                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"s1"</span><span class="p">,</span>
                                                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"std_msgs.msg.String"</span><span class="p">,</span>
                                                <span class="s2">"value"</span><span class="p">:</span> <span class="s2">"{%27firosstamp%27: 1443020619.58971, %27data%27: %27test%27}"</span>
                                        <span class="p">}</span>
                                <span class="p">],</span>
                                <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"end_end_test"</span><span class="p">,</span>
                                <span class="s2">"isPattern"</span><span class="p">:</span> <span class="s2">"false"</span><span class="p">,</span>
                                <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"ROBOT"</span>
                        <span class="p">},</span>
                        <span class="s2">"statusCode"</span><span class="p">:</span> <span class="p">{</span>
                                <span class="s2">"code"</span><span class="p">:</span> <span class="s2">"200"</span><span class="p">,</span>
                                <span class="s2">"reasonPhrase"</span><span class="p">:</span> <span class="s2">"OK"</span>
                        <span class="p">}</span>
                <span class="p">}</span>
        <span class="p">]</span>
<span class="p">}</span>

</code></pre></div>
<p>Notifications from ContextBroker to firos can be tested by running the following command in one terminal...</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">rostopic <span class="nb">echo</span> /end_end_test/p1

</code></pre></div>
<p>... and the following command in another terminal:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">~$ </span><span class="o">(</span>curl contextbroker_ip:1026/v1/updateContext -s -S --header <span class="s1">'Content-Type: application/json'</span> --header <span class="s1">'Accept: application/json'</span> -d @- | python -mjson.tool<span class="o">)</span> <span class="sh">&lt;&lt;EOF
{
          "contextElements": [
                  {
                          "type": "ROBOT",
                          "isPattern": "false",
                          "id": "end_end_test",
                          "attributes": [
                          {
                                  "name": "p1",
                                  "type": "std_msgs.msg.String",
                                  "value": "{%27data%27: %27`echo $RANDOM`%27}"
                          },
                          {
                                  "name": "COMMAND",
                                  "type": "COMMAND",
                                  "value": ["p1"]
                          }
                          ]
                  }
          ],
          "updateAction": "APPEND"
}
EOF

</span></code></pre></div>
<p>If everything went ok, in the first terminal you'll see something like this:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">data: random_number
---

</code></pre></div>
<h1 id="license">License</h1>

<p>Firos is licensed under <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <em>No CHANGELOG found.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>See <a href="http://wiki.ros.org/firos/Tutorials" target="_blank">ROS Wiki Tutorials</a> for more details.</em>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Source Tutorials</h3>
      </div>
      <div class="panel-body">
        <em>Not currently indexed.</em>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-deps">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th class="text-center"><span class="glyphicon glyphicon-th"></span></th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/roscpp#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/roscpp" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/roscpp#indigo">roscpp</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rospy#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rospy" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rospy#indigo">rospy</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/std_msgs#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/std_msgs" class="label label-primary">
                            2
                          </a>
                        </td>
                        <td><a href="/p/std_msgs#indigo">std_msgs</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/message_generation#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/message_generation" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/message_generation#indigo">message_generation</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/dynamic_reconfigure#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/dynamic_reconfigure" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/dynamic_reconfigure#indigo">dynamic_reconfigure</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/message_runtime#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/message_runtime" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/message_runtime#indigo">message_runtime</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com//Ikergune/firos/tree/master/./msg/Robot_Event.msg" target="_blank">msg/Robot_Event.msg</a></li>
            
              <li><a href="https://github.com//Ikergune/firos/tree/master/./msg/CB_Event.msg" target="_blank">msg/CB_Event.msg</a></li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com//Ikergune/firos/tree/master/./srv/FIROS_Info.srv" target="_blank">srv/FIROS_Info.srv</a></li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>
</div>

<script src="/js/package_body_tabs.js"></script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item" target="_blank" href="http://docs.ros.org/indigo/api/firos/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span> API Docs</a>
  <a class="list-group-item" target="_blank" href="https://github.com//Ikergune/firos/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span> Browse Code</a>
  <a class="list-group-item" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:firos/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span> Get Help</a>
  <a class="list-group-item inactive" target="_blank" href="http://wiki.ros.org/firos?distro=indigo"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span> Wiki</a>
  <a class="list-group-item inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=firos&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span> Eco</a>
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-groovy">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>groovy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-fuerte">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>fuerte</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-electric">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>electric</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-diamondback">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>diamondback</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src="/js/distro_switch.js"></script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/rosindex">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">rosindex</span>
          </a>
          |
          <em>generated on 2016-07-04</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
