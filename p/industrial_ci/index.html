<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    <link rel="canonical" href="http://rosindex.github.io/p/industrial_ci/">
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    <script type="text/javascript" src="/js/jquery.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/jquery-cookie-1.4.1/jquery.cookie.js" type="text/javascript"></script>

    <script type="text/javascript" src="/js/ga.js" async></script>
    <script type="text/javascript" src="/js/toc.js"></script>

    <!-- Pre-fetch search index files -->
    
    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">


        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/rosindex/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="divider"></li>

                    <li class="disabled"><a href="/srvs/">Nodes</a></li>
                    <li class="disabled"><a href="/msgs/">Messages</a></li>
                    <li class="disabled"><a href="/srvs/">Services</a></li>
                    <li class="disabled"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li class="disabled"><a href="/categories/">Categories</a></li>
                    <li class="disabled"><a href="/tutorials">Tutorials</a></li>
                    <li class="disabled"><a href="/readmes">Readmes</a></li>
                    <li class="disabled"><a href="/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form action="/search/" role="form">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="q" placeholder="Search">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="submit"><span class="glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/packages">Packages</a></li>
        <li class="active">industrial_ci</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-primary" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="jade-option" class="distro-button btn btn-xs btn-primary" href="#jade" data="jade">
      <input type="radio" name="options" id="jade-radio" autocomplete="off"> jade
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-primary" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  
    <label id="hydro-option" class="distro-button btn btn-xs btn-default" href="#hydro" data="hydro">
      <input type="radio" name="options" id="hydro-radio" autocomplete="off"> hydro
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="groovy" id="groovy-option" class="disabled older-distro-option"  href="#groovy">
          <a href="#groovy" data="groovy" id="groovy-button">groovy</a>
        </li>
      
        <li data="fuerte" id="fuerte-option" class="disabled older-distro-option"  href="#fuerte">
          <a href="#fuerte" data="fuerte" id="fuerte-button">fuerte</a>
        </li>
      
        <li data="electric" id="electric-option" class="disabled older-distro-option"  href="#electric">
          <a href="#electric" data="electric" id="electric-button">electric</a>
        </li>
      
        <li data="diamondback" id="diamondback-option" class="disabled older-distro-option"  href="#diamondback">
          <a href="#diamondback" data="diamondback" id="diamondback-button">diamondback</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/industrial_ci">industrial_ci</a> <small>package from <a style="text-decoration:none" href="/r/industrial_ci/github-ros-industrial-industrial_ci">industrial_ci</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

<span class="glyphicon glyphicon-file"></span> industrial_ci
</span>
            
          
      </td>
    </tr>
  </table>
  <div class="top-buffer distro distro-kinetic">
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/packages/industrial_ci"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-none"></span>
                  github-ros-industrial-industrial_ci
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros-industrial-industrial_ci" role="menuitem" tabindex="-1" href="/p/industrial_ci/github-ros-industrial-industrial_ci" data="github-ros-industrial-industrial_ci">
                    <span class="glyphicon glyphicon-none"></span>
                    github-ros-industrial-industrial_ci
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center" target="_blank" href="http://docs.ros.org/kinetic/api/industrial_ci/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span><br> API Docs</a>
  <a class="list-group-item text-center" target="_blank" href="https://github.com//ros-industrial/industrial_ci/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span><br> Browse Code</a>
  <a class="list-group-item text-center" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:industrial_ci/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span><br> Get Help</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://wiki.ros.org/industrial_ci?distro=kinetic"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span><br> Wiki</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=industrial_ci&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span><br> Eco</a>
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="kinetic-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#kinetic-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#kinetic-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#kinetic-deps" data-toggle="tab"><span class="label label-primary">5</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#kinetic-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="kinetic-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.2.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Buildtool</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-industrial/industrial_ci.git">https://github.com/ros-industrial/industrial_ci.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2016-06-21
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            common travis script suite
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Isaac I. Y. Saito</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Isaac I. Y. Saito</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-file"></span> README</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="industrial-ci">Industrial CI</h1>

<p>Continuous integration repository for ROS-Industrial</p>

<h2 id="introduction">Introduction</h2>

<p>This repository contains <a href="https://en.wikipedia.org/wiki/Continuous_integration">CI (Continuous
Integration)</a>
configuration that can be commonly used by the repositories in
<a href="https://github.com/ros-industrial">ros-industrial</a> organization. Non
ros-industrial repositories in other organizations can utilize the CI
config here too, as long as they are ROS-powered.</p>

<p>As of December 2015, this repo provides configuration for Travis CI. The
CI config in this repository is intended to be obtained by git clone
feature. In client repos you can define custom, repository-specific
checks, in addition to the generic configs stored in this repo.</p>

<p>For a brief introduction, you could also check a presentation:</p>

<ul>
<li>  <a href="http://rosindustrial.org/news/2016/6/14/ros-i-community-web-meeting-june-2016">ROS-Industrial community
meeting</a>
</li>
</ul>

<h3 id="supported-ros-distributions">Supported ROS distributions</h3>

<p>Following <a href="http://wiki.ros.org/action/login/Distributions">ROS
distributions</a> are
supported.</p>

<ul>
<li>  <a href="http://wiki.ros.org/indigo">Indigo</a>
</li>
<li>  <a href="http://wiki.ros.org/jade">Jade</a>
</li>
<li>  <a href="http://wiki.ros.org/kinetic">Kinetic</a>
</li>
</ul>

<h3 id="terminology">Terminology</h3>

<ul>
<li>  <strong>client repository</strong>: The repositories that use the configuration
stored in this repo to run CI jobs.</li>
<li>  <strong>downstream packages</strong>: The software packages that depend on the
package that's targetted to be tested using industrial_ci.</li>
</ul>

<h2 id="faq">FAQ</h2>

<ul>
<li>
<p>Q- This config can be used ONLY by the repositories under
<a href="https://github.com/ros-industrial">github/ros-industrial</a>
organization?</p>

<p>A- No. industrial_ci repo is open to public. Anyone can use this
from any platform. Note that because as of Dec. 2015 it has only
config for <a href="https://travis-ci.org/">Travis CI</a>, you may want to use
it where Travis CI is available (github.com works the best.</p>
</li>
<li>
<p>Q- What kind of checks are implemented that are specific to
industrial robotics?</p>

<p>A- As of Dec. 2015, no particular configuration for industrial robot
is defined.</p>
</li>
<li>
<p>Q- So, can the config be used against any robotics repository?</p>

<p>A- I'd say no. It's still limited for the projects based on
<a href="http://ros.org/">ROS</a>. And checks are run on Ubuntu linux.</p>
</li>
<li>
<p>Q- In my project there aren't yet test cases. Can I still have it
checked using industrial_ci and what can I get out of the check?</p>

<p>A- The industrial_ci still provides valuable checks; it ensures if
your package builds without issues. Also installation rules if
you define. Just as a headsup that making test cases are highly
recommended as your ear may hurt.</p>
</li>
<li>
<p>Q- My package uses a custom Point Cloud Library (PCL) version or the
<a href="https://github.com/ros-industrial/industrial_calibration">industrial_calibration</a>
package, how do I make build work?</p>

<p>A- You can check
<a href="https://github.com/InstitutMaupertuis/advanced_industrial_ci">advanced_industrial_ci</a>
which provides scripts and binaries for PCL 1.8.0 and the
Ceres solver. An integration example can be found
<a href="https://github.com/InstitutMaupertuis/ensenso_extrinsic_calibration/blob/indigo-devel/.travis.yml">here</a>.</p>
</li>
<li>
<p>Q- How does the target package get installed?</p>

<p>A- Travis CI does this. It pulls in your package to an running
instance of an operating system of your choice, and place your
package under /home/travis.</p>
</li>
<li>
<p>Q- The jobs on Travis CI are failing. How can I fix them?</p>

<p>A- (1) Find the section where error occurred that caused CI to stop.
Sections are folded nicely and it's colored red when it fails. (2)
Then identify whether the issue is pertaining to your package, or
something else. Sometimes a cause is in industrial_ci, not
your package. (3) Reviewing <a href="https://docs.travis-ci.com/user/common-build-problems">Common Build Problems for Travis
CI</a> helps you
to isolate the root cause. (4) If you think the root cause is in
industrial_ci, (or if you're not sure,) ask at its <a href="https://github.com/ros-industrial/industrial_ci/issues">issue
tracker</a>.</p>
</li>
<li>
<p>Q- How can I customize the jobs?</p>

<p>A- (1) There are a number of variables to customize your jobs that
you can learn the usage <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#variables-you-can-configure">in this
section</a>. (2)
You can define pre- and post-processes, in addition to the default
scripts (it's
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>
for Travis CI). See <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#run-pre-install-custom-commands">this
section</a>
for how.</p>
</li>
</ul>

<h3 id="what-are-checked">What are checked?</h3>

<p>List of the checked items, in the actual order to be run.</p>

<ol>
<li> If your package builds.</li>
<li> If available tests in the given package pass. Because tests use
software from install space, it is important that the building step
ends without issues (otherwise the tests may not be reached).</li>
<li> If your package gets installed (i.e. built artifact goes into the
install space).</li>
<li> If downstream packages are designated, the tests in those
packages pass.</li>
</ol>

<p>Your client repository does NOT need to pass all of above steps; in fact
you can have only some of them tested. To pass the steps without having
tested, simply "empty" them. For instance, in your client repository:</p>

<ul>
<li>  Step 2 will be skipped when no test files are present.</li>
<li>  Step 3 will be skipped when no installation rule is defined.</li>
<li>  Step 4 will be skipped when no downstream packages to be tested
are defined.</li>
</ul>

<h2 id="prerequisite">Prerequisite</h2>

<p>In order for your repository to get checked with configurations in
industrial_ci, it needs:</p>

<ul>
<li>  To be a <a href="http://wiki.ros.org/ROS/Tutorials/catkin/CreatingPackage">Catkin
package</a>
(uses CMake for build configuration), since many checks are
triggered by the Catkin-based commands.</li>
<li>  Build-able on Linux (as of Dec 2015, Ubuntu 14.04/Trusty is used).
Although your repository is not necessarilly intended for Linux,
checks are run on Linux.</li>
</ul>

<h2 id="usage">Usage</h2>

<p>Here are some operations in your client repositories.</p>

<h3 id="to-start-using-ci-config-stored-in-this-repo">To start using CI config stored in this repo</h3>

<p>With the following few short steps, you can start in your client
repository using CI confiurations stored in here (industrial_ci
repository).</p>

<ol>
<li> Don't forget to activate CI on your github repository (you may do so
on <a href="https://travis-ci.org/profile/YOUR_GITHUB_ORGANIZATION">https://travis-ci.org/profile/YOUR_GITHUB_ORGANIZATION</a> or
<a href="https://travis-ci.org/profile/YOUR_GITHUB_USER">https://travis-ci.org/profile/YOUR_GITHUB_USER</a>).</li>
<li> In .travis.yml file in your client repo, add in before_config
section a sentence
git clone <a href="https://github.com/ros-industrial/industrial%5C_ci.git">https://github.com/ros-industrial/industrial\_ci.git</a> .ci_config,
like below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">before_config:
  - git clone https://github.com/ros-industrial/industrial_ci.git .ci_config
script:
  - source .ci_config/travis.sh
</code></pre></div>
<ul>
<li>  Note that .ci_config is the required name of the cloned folder; it
is hardcoded so you need to use this name.</li>
<li>  Example of entire file .travis.yml can be found in
<a href="https://github.com/ros-industrial/industrial_core/blob/indigo-devel/.travis.yml">industrial_core/.travis.yml</a>.</li>
</ul>

<p>That's it.</p>

<h3 id="apply-the-changes-in-this-repo-industrial_ci-to-the-checking-in-client-repos">Apply the changes in this repo (industrial_ci) to the checking in client repos</h3>

<p>Nothing. Once you add git clone statement in your client repo, basically
you don't need to do anything to apply the change in industrial_ci
repository.</p>

<h3 id="example-client-packages">Example client packages</h3>

<ul>
<li>  <a href="https://github.com/ros-industrial/industrial_core/blob/indigo-devel/.travis.yml">ros-industrial/industrial_core</a>
</li>
<li>  <a href="https://github.com/ros-industrial-consortium/descartes/blob/indigo-devel/.travis.yml">ros-industrial-consortium/descartes</a>
</li>
</ul>

<h3 id="variables-you-can-configure">Variables you can configure</h3>

<p>You can configure the behavior in .travis.yml in your client repository.</p>

<ul>
<li>  OS to use. Defined at dist tag.</li>
</ul>

<p>Required environment variables:</p>

<ul>
<li>  `ROS_REPOSITORY_PATH`: Location of ROS' binary repositories
where depended packages get installed from (typically both standard
repo (<a href="http://packages.ros.org/ros/ubuntu">http://packages.ros.org/ros/ubuntu</a>) and <a href="http://wiki.ros.org/ShadowRepository">"Shadow-Fixed"
repository</a> (<a href="http://packages.ros.org/ros-shadow-fixed/ubuntu)">http://packages.ros.org/ros-shadow-fixed/ubuntu)</a>)</li>
<li>  `ROS_DISTRO`: Version of ROS in all lower case. E.g.: indigo /
jade</li>
</ul>

<h4 id="optional-environment-variables">Optional environment variables</h4>

<p>Note that some of these currently tied only to a single option, but we
still leave them for the future when more options become available (e.g.
ament with BUILDER).</p>

<ul>
<li>  ADDITIONAL_DEBS (default: not set): More DEBs to be used. List the
name of DEB(s delimitted by whitespace if multiple DEBs specified).
Needs to be full-qualified Ubuntu package name. E.g.:
"ros-indigo-roslint ros-indigo-gazebo-ros" (without quotation).</li>
<li>  `BEFORE_SCRIPT`: (default: not set): Used to specify shell
commands that run before building packages.</li>
<li>  BUILD_PKGS_WHITELIST (default: not set): Packages to be built can
be explicitly specified with this, in ROS package name format (i.e.
using underscore. No hyphen). This is useful when your repo contains
some packages that you don't want to be used upon testing.
Downstream packages, if necessary, should be also specified
using this. Also these packages are to be built when
NOT_TEST_INSTALL is set. Finally, packages specified with this
will be built together with those speicified using
unimplmented USE_DEB.</li>
<li>  BUILDER (default: catkin): Currently only catkin is implemented (and
with that catkin_tools is used instead of catkin_make. See <a href="https://github.com/ros-industrial/industrial_ci/issues/3">this
discussion</a>).</li>
<li>  CATKIN_PARALLEL_JOBS (default: -p4): Maximum number of packages to
be built in parallel that is passed to underlining build tool. As of
Jan 2016, this is only enabled with catkin_tools. See for more
detail about <a href="http://catkin-tools.readthedocs.org/en/latest/verbs/catkin_build.html#controlling-the-number-of-build-jobs">number of build
jobs</a>
and <a href="https://catkin-tools.readthedocs.org/en/latest/verbs/catkin_build.html#full-command-line-interface">documentation of
catkin_tools</a>
that this env variable is passed to internally in catkin-tools.</li>
<li>  CATKIN_PARALLEL_TEST_JOBS (default: -p4): Maximum number of
packages which could be examined in parallel during the test run. If
not set it's filled by ROS_PARALLEL_JOBS.</li>
<li>  CI_PARENT_DIR (default: .ci_config): (NOT recommended to specify)
This is the folder name that is used in downstream repositories in
order to point to this repo.</li>
<li>  NOT_TEST_BUILD (default: not set): If true, tests in build space
won't be run.</li>
<li>  NOT_TEST_INSTALL (default: not set): If true, tests in install
space won't be run.</li>
<li>  PRERELEASE (default: false): If true, run <a href="http://wiki.ros.org/bloom/Tutorials/PrereleaseTest/">Prerelease Test on docker
that emulates ROS
buildfarm</a>. The
usage of Prerelease Test feature is <a href="https://github.com/ros-industrial/industrial_ci/blob/add/dockerbased_prerelease/README.rst#optional-run-ros-prerelease-test">explained more in this
section</a>.</li>
<li>  PRERELEASE_DOWNSTREAM_DEPTH (0 to 4, default: 0): Number of the
levels of the package dependecies the Prerelease Test targets at.
Range of the level is defined by ROS buildfarm
(<a href="http://prerelease.ros.org"></a>). NOTE: a job can run exponentially
longer for the values greater than 0 depending on how many packages
depend on your package (and remember a job on Travis CI can only run
for up to 50 minutes).</li>
<li>  PRERELEASE_REPONAME (default: not set): The target of Prerelease
Test (that you select at <a href="http://prerelease.ros.org/indigo"></a>,
<a href="http://prerelease.ros.org/kinetic"></a> etc.) If not set then it tests
the package of the repository's name. You can specify this by your
ROS package name format (with underscore e.g. industrial_core), not
Debian package name format. NOTE that this package name must be
listed in the rosdistro/distribution.yaml (e.g. [for ROS
Indigo](<a href="https://github.com/ros/rosdistro/blob/master/indigo/distribution.yaml">https://github.com/ros/rosdistro/blob/master/indigo/distribution.yaml</a>))
(this requirement comes from ROS buildfarm's Prerelease Test).</li>
<li>  PKGS_DOWNSTREAM (default: explained): Packages in downstream to
be tested. By default, TARGET_PKGS is used if set, if not then
BUILD_PKGS is used.</li>
<li>  ROS_PARALLEL_JOBS (default: -j8): Maximum number of packages to be
built in parallel by the underlining build tool. As of Jan 2016,
this is only enabled with catkin_tools (with make as an
underlining builder).</li>
<li>  ROS_PARALLEL_TEST_JOBS (default: -j8): Maximum number of packages
which could be examined in parallel during the test run by the
underlining build tool. If not set it's filled
by ROS_PARALLEL_JOBS. As of Jan 2016, this is only enabled with
catkin_tools (with make as an underlining builder).</li>
<li>  ROSINSTALL_FILENAME (default: not set): See
UPSTREAM_WORKSPACE description.</li>
<li>  ROSWS (default: wstool): Currently only wstool is available.</li>
<li>  TARGET_PKGS (default: not set): Used to fill PKGS_DOWNSTREAM if it
is not set. If not set packages are set using the output of
catkin_topological_order for the source space.</li>
<li>  UPSTREAM_WORKSPACE (default: debian): When this is set file, the
dependended packages that need to be built from source are
downloaded based on a .rosinstall file in your repository. Use
\$ROSINSTALL_FILENAME to specify the file name. See more in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#optional-build-depended-packages-from-source">this
section</a>.</li>
<li>  USE_DEB (<em>DEPRECATED</em>: use UPSTREAM_WORKSPACE instead. default:
true): if true, UPSTREAM_WORKSPACE will be set as debian. if false,
file will be set. See UPSTREAM_WORKSPACE section for more info.</li>
</ul>

<p>Note: You see some *PKGS* variables. These make things very flexible
but in normal usecases you don't need to be bothered with them - just
keep them blank.</p>

<h3 id="optional-but-recommended-subscribe-to-the-change-in-this-repo-industrial_ci">(Optional but recommended) Subscribe to the change in this repo (industrial_ci)</h3>

<p>Because of the aforementioned responsibility for the maintainers to
watch the changes in industrial_ci, <a href="https://github.com/ros-industrial/industrial_ci/subscription">you're encouraged to subscribe to
the updates in this
repository</a>.</p>

<h3 id="add-repository-specific-ci-config-in-addition">Add repository-specific CI config in addition</h3>

<p>Sometimes CI config stored in industrial_ci repo may not be sufficient
for your purpose. In that case you can add your own config, while you
still take advantage of industrial_ci repository.</p>

<ol>
<li> In .travis.yml file in your client repo, add the portion below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source .ci_config/travis.sh
  - source ./travis.sh
</code></pre></div>
<ol>
<li> Create travis.sh file and define the checks you wish to add. NOTE:
this .sh file you add here is a normal shell script, so this
shouldn't be written in travis CI grammar.</li>
</ol>

<h3 id="optional-to-use-specific-version-of-industrial_ci-in-your-client-repo">(Optional) To use specific version of industrial_ci in your client repo</h3>

<p>(A minor) downside of how you associate your client repo to this
industrial_ci repository is that you have no control over which version
to use (see <a href="https://github.com/ros-industrial/industrial_ci/issues/3">discussion in this
ticket</a>). If
you wish you can specify the version.</p>

<p>The following is an example using git submodule. Note that when using
this method, you have to manually update the submodule every time
there's an update in this industrial_ci package.</p>

<h4 id="first-time-you-define-the-dependency-to-this-repo">First time you define the dependency to this repo</h4>

<ol>
<li> Run git submodule command.</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">CLIENTREPO_LOCAL$ git submodule add https://github.com/ros-industrial/industrial_ci .ci_config
</code></pre></div>
<p>This standard git submodule command:</p>

<ul>
<li>  hooks up your client repository to this repo by the name
".ci_config" (this name is hardcoded and mandatory).</li>
<li>  stores the configuration in a file called .gitmodules.</li>
</ul>

<ol>
<li> Don't forget to activate CI on your github repository (you may do so
on <a href="https://travis-ci.org/profile/YOUR_GITHUB_USER">https://travis-ci.org/profile/YOUR_GITHUB_USER</a>).</li>
<li> In .travis.yml file in your client repo, add the portion below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source .ci_config/travis.sh
  #- source ./travis.sh  # Optional. Explained later
</code></pre></div>
<p>Also, the example of entire file .travis.yml can be found in
<a href="https://github.com/ros-industrial/industrial_core/.travis.yml">industrial_core/.travis.yml</a>.</p>

<p>That's it.</p>

<h4 id="apply-the-changes-in-this-repo-industrial_ci-to-the-checking-in-client-repos">Apply the changes in this repo (industrial_ci) to the checking in client repos</h4>

<p>Maintainers of client repos are responsible for applying the changes
that happen in this repos, if they want to use up-to-date checks; since
git submodule does NOT provide features to automatically detect the
changes made in the sub modules, maintainers need to keep an eye on the
changes.</p>

<ol>
<li> Update the SHA key of the commit in this repo. The command below
assumes that there's .gitmodules file that's generated by
git submodule add command explained above.</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">CLIENTREPO_LOCAL$ git submodule foreach git pull origin master
</code></pre></div>
<ol>
<li> Don't forget to commit the changes the command above makes.</li>
</ol>

<h3 id="optional-run-ros-prerelease-test">(Optional) Run ROS Prerelease Test</h3>

<p>Running <a href="http://wiki.ros.org/bloom/Tutorials/PrereleaseTest/">docker-based ROS Prerelease
Test</a> is strongly
recommended when you make a release. There are, however, some
inconvenience (requires host computer setup, runs on your local host,
etc. Detail discussed in <a href="https://github.com/ros-industrial/industrial_ci/pull/35#issue-150581346">a
ticket</a>).
industrial_ci provides a way to run it on your Travis CI test.</p>

<p>To do so, add a single line to your Travis config (eg. .travis.yml):</p>
<div class="highlight"><pre><code class="language-" data-lang="">ROS_DISTRO=indigo PRERELEASE=true
</code></pre></div>
<p>Or with more configuration:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ROS_DISTRO=indigo PRERELEASE=true PRERELEASE_REPONAME=industrial_core PRERELEASE_DOWNSTREAM_DEPTH=0
</code></pre></div>
<p>NOTE: A job that runs Prerelease Test does not run the checks that are
defined in
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>.
To run both, use matrix in Travis config.</p>

<p>See the usage sample in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/.travis.yml">.travis in indusrial_ci
repository</a>.</p>

<p>The following is some tips to be shared for running Prerelease Test on
Travis CI using industrial_ci.</p>

<h4 id="workaround-don-39-t-want-to-always-run-prerelease-test">(Workaround) Don't want to always run Prerelease Test</h4>

<p>The jobs that run Prerelease Test may usually take longer than the tests
defined in
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>,
which can result in longer time for the entire Travis jobs to finish.
This is usually okay, as developers who are concerned with PRs might not
wait for the Travis result that eagerly (besides that, Travis CI limits
the maximum run time as 50 minutes so there can't be very long run). If
you're concerned, however, then you may want to separately run the
Prerelease Test. An example way to do this is to create a branch
specifically for Prerelease Test where .travis.yml only defines a check
entry with PRERELEASE turned on. E.g.:</p>
<div class="highlight"><pre><code class="language-" data-lang="">:
env:
  matrix:
    - ROS_DISTRO=indigo PRERELEASE=true
:
</code></pre></div>
<p>Then open a pull request using this branch against the branch that the
change is subject to be merged. You do not want to actually merge this
branch no matter what the Travis result is. This branch is solely for
Prerelease Test purpose.</p>

<h3 id="run-pre-install-custom-commands">Run pre-install custom commands</h3>

<p>You may want to add custom steps prior to the setup defined in
<a href="./travis.sh">./travis.sh</a>. Example:</p>

<ul>
<li>  A device driver package X in your repository or in your repository's
dependency requires a prorietary library installed. This library is
publicly available, but not via apt or any package management system
and thus the only way you can install it is in a classic way (unzip,
run installer etc.) (<a href="https://github.com/ros-industrial/industrial_ci/issues/14">More
discussion</a>).</li>
</ul>

<p>In this case, add sourced scripts before travis.sh gets called (see
below for an example).</p>
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source ./your_custom_PREprocess.sh
  - source .ci_config/travis.sh
  - source ./your_custom_POSTprocess.sh
</code></pre></div>
<p>In the above case, in both .ci_config/travis.sh and
your_custom_POSTprocess.sh the environment is kept from previous
script(s), so whatever is done in previous scripts remains.</p>

<h3 id="optional-build-depended-packages-from-source">(Optional) Build depended packages from source</h3>

<p>By default the packages your package depend upon are installed via
binaries. However, you may want to build them via source in some cases
(e.g. when depended binaries are not available). There are a few ways to
do so in industrial_ci. Examples of all are available in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/.travis.yml">.travis.yml
file on this
repository</a>.</p>

<h4 id="use-rosinstall-file-to-specify-the-depended-packages-source-repository">Use .rosinstall file to specify the depended packages source repository</h4>

<p>Standard way is 1) set UPSTREAM_WORKSPACE as file, 2) create a file
\$ROSINSTALL_FILENAME using the same file format as
<a href="http://docs.ros.org/independent/api/rosinstall/html/rosinstall_file_format.html">.rosinstall</a>
and place it at the top level directory of your package.</p>

<h4 id="have-multiple-rosinstall-files-per-ros-distro">Have multiple .rosinstall files per ROS-distro</h4>

<p>By adding .\$ROS_DISTRO suffix to your \$ROSINSTALL_FILENAME file, you
can specify which file to use per your \$ROS_DISTRO. So the syntax of
the file name for this purpose is \$ROSINSTALL_FILENAME.\$ROS_DISTRO.
For example, let's say you want to test multiple distros (indigo, jade)
and you have .travis.rosinstall and .travis.rosinstall.jade files in
your repo. You can define the Travis config as:</p>
<div class="highlight"><pre><code class="language-" data-lang="">env:
  matrix:

    - ROS_DISTRO=indigo UPSTREAM_WORKSPACE=file
    - ROS_DISTRO=jade   UPSTREAM_WORKSPACE=file
</code></pre></div>
<p>With this config, for indigo default file name .travis.rosinstall will
be seached and used if found. For jade, the file that consists of the
default file name plus .jade suffix will be prioritized.</p>

<p>When \$ROSINSTALL_FILENAME.\$ROS_DISTRO file isn't found,
\$ROSINSTALL_FILENAME will be used for all jobs that define
UPSTREAM_WORKSPACE.</p>

<h4 id="use-rosinstall-from-external-location">Use .rosinstall from external location</h4>

<p>You can utilize .rosinstall file stored anywhere as long as its location
is URL specifyable. To do so, set its complete path URL directly to
UPSTREAM_WORKSPACE.</p>

<h2 id="for-maintainers-of-industrial_ci-repository">For maintainers of industrial_ci repository</h2>

<h3 id="checks-for-industrial_ci-repo-itself">Checks for industrial_ci repo itself</h3>

<p>While this repository provides CI config that can be used by other
repositories, it also checks this repo itself using the same CI config
and the simplest package setting. That is why this repo contains the ROS
package files and a test (CMakeLists.txt, package.xml, .test).</p>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="changelog-for-package-industrial_ci">Changelog for package industrial_ci</h1>

<h2 id="0-2-2-2016-05-13">0.2.2 (2016-05-13)</h2>

<ul>
<li>  [fix] Remove wrong duplicate prerelease test code block.
<a href="https://github.com/ros-industrial/industrial_ci/issues/40">#40</a>
</li>
<li>  [sys] Adjust to ROS Indigo's up-to-date ros.key acquision.
<a href="https://github.com/ros-industrial/industrial_ci/issues/42">#42</a>
</li>
<li>  Contributors: Isaac I.Y. Saito, Gijs van der Hoorn, Mathias Luedtke</li>
</ul>

<h2 id="0-2-1-2016-05-06">0.2.1 (2016-05-06)</h2>

<ul>
<li>  [feat] Add docker-based ROS prerelease test.
<a href="https://github.com/ros-industrial/industrial_ci/issues/35">#35</a>
</li>
<li>  [fix] Correct environment variable exportation to subprocesses.</li>
<li>  [fix] Better script termination with 'set -e'.</li>
<li>  [fix] broken link in README
<a href="https://github.com/ros-industrial/industrial_ci/issues/37">#37</a>
</li>
<li>  [fix] apt-get quiet option
<a href="https://github.com/ros-industrial/industrial_ci/issues/33">#33</a>
</li>
<li>  [sys] Extract util functions</li>
<li>  [sys] Remove meaningless Travis jobs</li>
<li>  [doc] Some clarifications.</li>
<li>  [improve] More fold Travis result (wstool version and
localname info)
<a href="https://github.com/ros-industrial/industrial_ci/issues/38">#38</a>
</li>
<li>  Contributors: Mathias Luedtke, Dave Coleman, Victor Lamoine,
Isaac I.Y. Saito</li>
</ul>

<h2 id="0-2-0-2016-04-19">0.2.0 (2016-04-19)</h2>

<ul>
<li>  Adjust to catkin_tools 0.4.0
<a href="https://github.com/ros-industrial/industrial_ci/issues/31">#31</a>
</li>
<li>  Contributors: Isaac I.Y. Saito</li>
</ul>

<h2 id="0-1-3-2016-04-14">0.1.3 (2016-04-14)</h2>

<ul>
<li>  [fix] Temporarilly disable rospack plugin line (fixes
<a href="https://github.com/ros-industrial/industrial_ci/issues/26">#26</a>).
<a href="https://github.com/ros-industrial/industrial_ci/issues/28">#28</a>
</li>
<li>  [fix] missing an arg for specifying the number parallel job.</li>
<li>  Fix undeclared args for the number parallel job
<a href="https://github.com/ros-industrial/industrial_ci/issues/22">#22</a>
</li>
<li>  [doc] Clarify parallel job args.</li>
<li>  Contributors: Isaac I.Y. Saito</li>
</ul>

<h2 id="0-1-2-2016-02-08">0.1.2 (2016-02-08)</h2>

<ul>
<li>  [fix] Move a patch that becomes available via DEB to older ROS
distro only section
(<a href="https://github.com/ros-industrial/industrial_ci/issues/20">#20</a>)</li>
<li>  [feat] Add option to not test
(<a href="https://github.com/ros-industrial/industrial_ci/issues/16">#16</a>)</li>
<li>  Contributors: Isaac I.Y. Saito, Gijs van der Hoorn</li>
</ul>

<h2 id="0-1-1-2016-01-05">0.1.1 (2016-01-05)</h2>

<ul>
<li>  [feat] Better variable name for downstream pkgs</li>
<li>  [doc] Many improvements including replacing "git submodule" with
"git clone"</li>
<li>  [enhance] Output enhancement and cleanup</li>
<li>  [enhance] Turn off status line
(<a href="https://github.com/ros-industrial/industrial_ci/issues/4">#4</a>)</li>
<li>  [sys] Remove a tentative workaround for a test location issue
(<a href="https://github.com/ros/ros_comm/pull/668">https://github.com/ros/ros_comm/pull/668</a>)</li>
<li>  Contributors: Isaac I.Y. Saito, Mathias Luedtke</li>
</ul>

<h2 id="0-1-0-2015-12-08">0.1.0 (2015-12-08)</h2>

<ul>
<li>  Init commit of travis config and scripts</li>
<li>  Add license and copyright header</li>
<li>  Contributors: Shaun Edwards, Isaac I.Y. Saito</li>
</ul>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kinetic-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>See <a href="http://wiki.ros.org/industrial_ci/Tutorials" target="_blank">ROS Wiki Tutorials</a> for more details.</em>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Source Tutorials</h3>
      </div>
      <div class="panel-body">
        <em>Not currently indexed.</em>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kinetic-deps">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th class="text-center"><span class="glyphicon glyphicon-th"></span></th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/catkin#kinetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/catkin" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/catkin#kinetic">catkin</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rospy_tutorials#kinetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rospy_tutorials" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rospy_tutorials#kinetic">rospy_tutorials</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rostest#kinetic-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rostest" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rostest#kinetic">rostest</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python">python</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-catkin-tools">python-catkin-tools</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="kinetic-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>
</div>

<script src="/js/package_body_tabs.js"></script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item" target="_blank" href="http://docs.ros.org/kinetic/api/industrial_ci/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span> API Docs</a>
  <a class="list-group-item" target="_blank" href="https://github.com//ros-industrial/industrial_ci/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span> Browse Code</a>
  <a class="list-group-item" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:industrial_ci/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span> Get Help</a>
  <a class="list-group-item inactive" target="_blank" href="http://wiki.ros.org/industrial_ci?distro=kinetic"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span> Wiki</a>
  <a class="list-group-item inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=industrial_ci&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span> Eco</a>
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/industrial_ci">industrial_ci</a> <small>package from <a style="text-decoration:none" href="/r/industrial_ci/github-ros-industrial-industrial_ci">industrial_ci</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

<span class="glyphicon glyphicon-file"></span> industrial_ci
</span>
            
          
      </td>
    </tr>
  </table>
  <div class="top-buffer distro distro-jade">
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/packages/industrial_ci"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-none"></span>
                  github-ros-industrial-industrial_ci
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros-industrial-industrial_ci" role="menuitem" tabindex="-1" href="/p/industrial_ci/github-ros-industrial-industrial_ci" data="github-ros-industrial-industrial_ci">
                    <span class="glyphicon glyphicon-none"></span>
                    github-ros-industrial-industrial_ci
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center" target="_blank" href="http://docs.ros.org/jade/api/industrial_ci/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span><br> API Docs</a>
  <a class="list-group-item text-center" target="_blank" href="https://github.com//ros-industrial/industrial_ci/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span><br> Browse Code</a>
  <a class="list-group-item text-center" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:industrial_ci/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span><br> Get Help</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://wiki.ros.org/industrial_ci?distro=jade"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span><br> Wiki</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=industrial_ci&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span><br> Eco</a>
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="jade-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#jade-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#jade-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#jade-deps" data-toggle="tab"><span class="label label-primary">5</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#jade-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="jade-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.2.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Buildtool</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-industrial/industrial_ci.git">https://github.com/ros-industrial/industrial_ci.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2016-06-21
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            common travis script suite
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Isaac I. Y. Saito</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Isaac I. Y. Saito</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-file"></span> README</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="industrial-ci">Industrial CI</h1>

<p>Continuous integration repository for ROS-Industrial</p>

<h2 id="introduction">Introduction</h2>

<p>This repository contains <a href="https://en.wikipedia.org/wiki/Continuous_integration">CI (Continuous
Integration)</a>
configuration that can be commonly used by the repositories in
<a href="https://github.com/ros-industrial">ros-industrial</a> organization. Non
ros-industrial repositories in other organizations can utilize the CI
config here too, as long as they are ROS-powered.</p>

<p>As of December 2015, this repo provides configuration for Travis CI. The
CI config in this repository is intended to be obtained by git clone
feature. In client repos you can define custom, repository-specific
checks, in addition to the generic configs stored in this repo.</p>

<p>For a brief introduction, you could also check a presentation:</p>

<ul>
<li>  <a href="http://rosindustrial.org/news/2016/6/14/ros-i-community-web-meeting-june-2016">ROS-Industrial community
meeting</a>
</li>
</ul>

<h3 id="supported-ros-distributions">Supported ROS distributions</h3>

<p>Following <a href="http://wiki.ros.org/action/login/Distributions">ROS
distributions</a> are
supported.</p>

<ul>
<li>  <a href="http://wiki.ros.org/indigo">Indigo</a>
</li>
<li>  <a href="http://wiki.ros.org/jade">Jade</a>
</li>
<li>  <a href="http://wiki.ros.org/kinetic">Kinetic</a>
</li>
</ul>

<h3 id="terminology">Terminology</h3>

<ul>
<li>  <strong>client repository</strong>: The repositories that use the configuration
stored in this repo to run CI jobs.</li>
<li>  <strong>downstream packages</strong>: The software packages that depend on the
package that's targetted to be tested using industrial_ci.</li>
</ul>

<h2 id="faq">FAQ</h2>

<ul>
<li>
<p>Q- This config can be used ONLY by the repositories under
<a href="https://github.com/ros-industrial">github/ros-industrial</a>
organization?</p>

<p>A- No. industrial_ci repo is open to public. Anyone can use this
from any platform. Note that because as of Dec. 2015 it has only
config for <a href="https://travis-ci.org/">Travis CI</a>, you may want to use
it where Travis CI is available (github.com works the best.</p>
</li>
<li>
<p>Q- What kind of checks are implemented that are specific to
industrial robotics?</p>

<p>A- As of Dec. 2015, no particular configuration for industrial robot
is defined.</p>
</li>
<li>
<p>Q- So, can the config be used against any robotics repository?</p>

<p>A- I'd say no. It's still limited for the projects based on
<a href="http://ros.org/">ROS</a>. And checks are run on Ubuntu linux.</p>
</li>
<li>
<p>Q- In my project there aren't yet test cases. Can I still have it
checked using industrial_ci and what can I get out of the check?</p>

<p>A- The industrial_ci still provides valuable checks; it ensures if
your package builds without issues. Also installation rules if
you define. Just as a headsup that making test cases are highly
recommended as your ear may hurt.</p>
</li>
<li>
<p>Q- My package uses a custom Point Cloud Library (PCL) version or the
<a href="https://github.com/ros-industrial/industrial_calibration">industrial_calibration</a>
package, how do I make build work?</p>

<p>A- You can check
<a href="https://github.com/InstitutMaupertuis/advanced_industrial_ci">advanced_industrial_ci</a>
which provides scripts and binaries for PCL 1.8.0 and the
Ceres solver. An integration example can be found
<a href="https://github.com/InstitutMaupertuis/ensenso_extrinsic_calibration/blob/indigo-devel/.travis.yml">here</a>.</p>
</li>
<li>
<p>Q- How does the target package get installed?</p>

<p>A- Travis CI does this. It pulls in your package to an running
instance of an operating system of your choice, and place your
package under /home/travis.</p>
</li>
<li>
<p>Q- The jobs on Travis CI are failing. How can I fix them?</p>

<p>A- (1) Find the section where error occurred that caused CI to stop.
Sections are folded nicely and it's colored red when it fails. (2)
Then identify whether the issue is pertaining to your package, or
something else. Sometimes a cause is in industrial_ci, not
your package. (3) Reviewing <a href="https://docs.travis-ci.com/user/common-build-problems">Common Build Problems for Travis
CI</a> helps you
to isolate the root cause. (4) If you think the root cause is in
industrial_ci, (or if you're not sure,) ask at its <a href="https://github.com/ros-industrial/industrial_ci/issues">issue
tracker</a>.</p>
</li>
<li>
<p>Q- How can I customize the jobs?</p>

<p>A- (1) There are a number of variables to customize your jobs that
you can learn the usage <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#variables-you-can-configure">in this
section</a>. (2)
You can define pre- and post-processes, in addition to the default
scripts (it's
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>
for Travis CI). See <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#run-pre-install-custom-commands">this
section</a>
for how.</p>
</li>
</ul>

<h3 id="what-are-checked">What are checked?</h3>

<p>List of the checked items, in the actual order to be run.</p>

<ol>
<li> If your package builds.</li>
<li> If available tests in the given package pass. Because tests use
software from install space, it is important that the building step
ends without issues (otherwise the tests may not be reached).</li>
<li> If your package gets installed (i.e. built artifact goes into the
install space).</li>
<li> If downstream packages are designated, the tests in those
packages pass.</li>
</ol>

<p>Your client repository does NOT need to pass all of above steps; in fact
you can have only some of them tested. To pass the steps without having
tested, simply "empty" them. For instance, in your client repository:</p>

<ul>
<li>  Step 2 will be skipped when no test files are present.</li>
<li>  Step 3 will be skipped when no installation rule is defined.</li>
<li>  Step 4 will be skipped when no downstream packages to be tested
are defined.</li>
</ul>

<h2 id="prerequisite">Prerequisite</h2>

<p>In order for your repository to get checked with configurations in
industrial_ci, it needs:</p>

<ul>
<li>  To be a <a href="http://wiki.ros.org/ROS/Tutorials/catkin/CreatingPackage">Catkin
package</a>
(uses CMake for build configuration), since many checks are
triggered by the Catkin-based commands.</li>
<li>  Build-able on Linux (as of Dec 2015, Ubuntu 14.04/Trusty is used).
Although your repository is not necessarilly intended for Linux,
checks are run on Linux.</li>
</ul>

<h2 id="usage">Usage</h2>

<p>Here are some operations in your client repositories.</p>

<h3 id="to-start-using-ci-config-stored-in-this-repo">To start using CI config stored in this repo</h3>

<p>With the following few short steps, you can start in your client
repository using CI confiurations stored in here (industrial_ci
repository).</p>

<ol>
<li> Don't forget to activate CI on your github repository (you may do so
on <a href="https://travis-ci.org/profile/YOUR_GITHUB_ORGANIZATION">https://travis-ci.org/profile/YOUR_GITHUB_ORGANIZATION</a> or
<a href="https://travis-ci.org/profile/YOUR_GITHUB_USER">https://travis-ci.org/profile/YOUR_GITHUB_USER</a>).</li>
<li> In .travis.yml file in your client repo, add in before_config
section a sentence
git clone <a href="https://github.com/ros-industrial/industrial%5C_ci.git">https://github.com/ros-industrial/industrial\_ci.git</a> .ci_config,
like below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">before_config:
  - git clone https://github.com/ros-industrial/industrial_ci.git .ci_config
script:
  - source .ci_config/travis.sh
</code></pre></div>
<ul>
<li>  Note that .ci_config is the required name of the cloned folder; it
is hardcoded so you need to use this name.</li>
<li>  Example of entire file .travis.yml can be found in
<a href="https://github.com/ros-industrial/industrial_core/blob/indigo-devel/.travis.yml">industrial_core/.travis.yml</a>.</li>
</ul>

<p>That's it.</p>

<h3 id="apply-the-changes-in-this-repo-industrial_ci-to-the-checking-in-client-repos">Apply the changes in this repo (industrial_ci) to the checking in client repos</h3>

<p>Nothing. Once you add git clone statement in your client repo, basically
you don't need to do anything to apply the change in industrial_ci
repository.</p>

<h3 id="example-client-packages">Example client packages</h3>

<ul>
<li>  <a href="https://github.com/ros-industrial/industrial_core/blob/indigo-devel/.travis.yml">ros-industrial/industrial_core</a>
</li>
<li>  <a href="https://github.com/ros-industrial-consortium/descartes/blob/indigo-devel/.travis.yml">ros-industrial-consortium/descartes</a>
</li>
</ul>

<h3 id="variables-you-can-configure">Variables you can configure</h3>

<p>You can configure the behavior in .travis.yml in your client repository.</p>

<ul>
<li>  OS to use. Defined at dist tag.</li>
</ul>

<p>Required environment variables:</p>

<ul>
<li>  `ROS_REPOSITORY_PATH`: Location of ROS' binary repositories
where depended packages get installed from (typically both standard
repo (<a href="http://packages.ros.org/ros/ubuntu">http://packages.ros.org/ros/ubuntu</a>) and <a href="http://wiki.ros.org/ShadowRepository">"Shadow-Fixed"
repository</a> (<a href="http://packages.ros.org/ros-shadow-fixed/ubuntu)">http://packages.ros.org/ros-shadow-fixed/ubuntu)</a>)</li>
<li>  `ROS_DISTRO`: Version of ROS in all lower case. E.g.: indigo /
jade</li>
</ul>

<h4 id="optional-environment-variables">Optional environment variables</h4>

<p>Note that some of these currently tied only to a single option, but we
still leave them for the future when more options become available (e.g.
ament with BUILDER).</p>

<ul>
<li>  ADDITIONAL_DEBS (default: not set): More DEBs to be used. List the
name of DEB(s delimitted by whitespace if multiple DEBs specified).
Needs to be full-qualified Ubuntu package name. E.g.:
"ros-indigo-roslint ros-indigo-gazebo-ros" (without quotation).</li>
<li>  `BEFORE_SCRIPT`: (default: not set): Used to specify shell
commands that run before building packages.</li>
<li>  BUILD_PKGS_WHITELIST (default: not set): Packages to be built can
be explicitly specified with this, in ROS package name format (i.e.
using underscore. No hyphen). This is useful when your repo contains
some packages that you don't want to be used upon testing.
Downstream packages, if necessary, should be also specified
using this. Also these packages are to be built when
NOT_TEST_INSTALL is set. Finally, packages specified with this
will be built together with those speicified using
unimplmented USE_DEB.</li>
<li>  BUILDER (default: catkin): Currently only catkin is implemented (and
with that catkin_tools is used instead of catkin_make. See <a href="https://github.com/ros-industrial/industrial_ci/issues/3">this
discussion</a>).</li>
<li>  CATKIN_PARALLEL_JOBS (default: -p4): Maximum number of packages to
be built in parallel that is passed to underlining build tool. As of
Jan 2016, this is only enabled with catkin_tools. See for more
detail about <a href="http://catkin-tools.readthedocs.org/en/latest/verbs/catkin_build.html#controlling-the-number-of-build-jobs">number of build
jobs</a>
and <a href="https://catkin-tools.readthedocs.org/en/latest/verbs/catkin_build.html#full-command-line-interface">documentation of
catkin_tools</a>
that this env variable is passed to internally in catkin-tools.</li>
<li>  CATKIN_PARALLEL_TEST_JOBS (default: -p4): Maximum number of
packages which could be examined in parallel during the test run. If
not set it's filled by ROS_PARALLEL_JOBS.</li>
<li>  CI_PARENT_DIR (default: .ci_config): (NOT recommended to specify)
This is the folder name that is used in downstream repositories in
order to point to this repo.</li>
<li>  NOT_TEST_BUILD (default: not set): If true, tests in build space
won't be run.</li>
<li>  NOT_TEST_INSTALL (default: not set): If true, tests in install
space won't be run.</li>
<li>  PRERELEASE (default: false): If true, run <a href="http://wiki.ros.org/bloom/Tutorials/PrereleaseTest/">Prerelease Test on docker
that emulates ROS
buildfarm</a>. The
usage of Prerelease Test feature is <a href="https://github.com/ros-industrial/industrial_ci/blob/add/dockerbased_prerelease/README.rst#optional-run-ros-prerelease-test">explained more in this
section</a>.</li>
<li>  PRERELEASE_DOWNSTREAM_DEPTH (0 to 4, default: 0): Number of the
levels of the package dependecies the Prerelease Test targets at.
Range of the level is defined by ROS buildfarm
(<a href="http://prerelease.ros.org"></a>). NOTE: a job can run exponentially
longer for the values greater than 0 depending on how many packages
depend on your package (and remember a job on Travis CI can only run
for up to 50 minutes).</li>
<li>  PRERELEASE_REPONAME (default: not set): The target of Prerelease
Test (that you select at <a href="http://prerelease.ros.org/indigo"></a>,
<a href="http://prerelease.ros.org/kinetic"></a> etc.) If not set then it tests
the package of the repository's name. You can specify this by your
ROS package name format (with underscore e.g. industrial_core), not
Debian package name format. NOTE that this package name must be
listed in the rosdistro/distribution.yaml (e.g. [for ROS
Indigo](<a href="https://github.com/ros/rosdistro/blob/master/indigo/distribution.yaml">https://github.com/ros/rosdistro/blob/master/indigo/distribution.yaml</a>))
(this requirement comes from ROS buildfarm's Prerelease Test).</li>
<li>  PKGS_DOWNSTREAM (default: explained): Packages in downstream to
be tested. By default, TARGET_PKGS is used if set, if not then
BUILD_PKGS is used.</li>
<li>  ROS_PARALLEL_JOBS (default: -j8): Maximum number of packages to be
built in parallel by the underlining build tool. As of Jan 2016,
this is only enabled with catkin_tools (with make as an
underlining builder).</li>
<li>  ROS_PARALLEL_TEST_JOBS (default: -j8): Maximum number of packages
which could be examined in parallel during the test run by the
underlining build tool. If not set it's filled
by ROS_PARALLEL_JOBS. As of Jan 2016, this is only enabled with
catkin_tools (with make as an underlining builder).</li>
<li>  ROSINSTALL_FILENAME (default: not set): See
UPSTREAM_WORKSPACE description.</li>
<li>  ROSWS (default: wstool): Currently only wstool is available.</li>
<li>  TARGET_PKGS (default: not set): Used to fill PKGS_DOWNSTREAM if it
is not set. If not set packages are set using the output of
catkin_topological_order for the source space.</li>
<li>  UPSTREAM_WORKSPACE (default: debian): When this is set file, the
dependended packages that need to be built from source are
downloaded based on a .rosinstall file in your repository. Use
\$ROSINSTALL_FILENAME to specify the file name. See more in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#optional-build-depended-packages-from-source">this
section</a>.</li>
<li>  USE_DEB (<em>DEPRECATED</em>: use UPSTREAM_WORKSPACE instead. default:
true): if true, UPSTREAM_WORKSPACE will be set as debian. if false,
file will be set. See UPSTREAM_WORKSPACE section for more info.</li>
</ul>

<p>Note: You see some *PKGS* variables. These make things very flexible
but in normal usecases you don't need to be bothered with them - just
keep them blank.</p>

<h3 id="optional-but-recommended-subscribe-to-the-change-in-this-repo-industrial_ci">(Optional but recommended) Subscribe to the change in this repo (industrial_ci)</h3>

<p>Because of the aforementioned responsibility for the maintainers to
watch the changes in industrial_ci, <a href="https://github.com/ros-industrial/industrial_ci/subscription">you're encouraged to subscribe to
the updates in this
repository</a>.</p>

<h3 id="add-repository-specific-ci-config-in-addition">Add repository-specific CI config in addition</h3>

<p>Sometimes CI config stored in industrial_ci repo may not be sufficient
for your purpose. In that case you can add your own config, while you
still take advantage of industrial_ci repository.</p>

<ol>
<li> In .travis.yml file in your client repo, add the portion below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source .ci_config/travis.sh
  - source ./travis.sh
</code></pre></div>
<ol>
<li> Create travis.sh file and define the checks you wish to add. NOTE:
this .sh file you add here is a normal shell script, so this
shouldn't be written in travis CI grammar.</li>
</ol>

<h3 id="optional-to-use-specific-version-of-industrial_ci-in-your-client-repo">(Optional) To use specific version of industrial_ci in your client repo</h3>

<p>(A minor) downside of how you associate your client repo to this
industrial_ci repository is that you have no control over which version
to use (see <a href="https://github.com/ros-industrial/industrial_ci/issues/3">discussion in this
ticket</a>). If
you wish you can specify the version.</p>

<p>The following is an example using git submodule. Note that when using
this method, you have to manually update the submodule every time
there's an update in this industrial_ci package.</p>

<h4 id="first-time-you-define-the-dependency-to-this-repo">First time you define the dependency to this repo</h4>

<ol>
<li> Run git submodule command.</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">CLIENTREPO_LOCAL$ git submodule add https://github.com/ros-industrial/industrial_ci .ci_config
</code></pre></div>
<p>This standard git submodule command:</p>

<ul>
<li>  hooks up your client repository to this repo by the name
".ci_config" (this name is hardcoded and mandatory).</li>
<li>  stores the configuration in a file called .gitmodules.</li>
</ul>

<ol>
<li> Don't forget to activate CI on your github repository (you may do so
on <a href="https://travis-ci.org/profile/YOUR_GITHUB_USER">https://travis-ci.org/profile/YOUR_GITHUB_USER</a>).</li>
<li> In .travis.yml file in your client repo, add the portion below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source .ci_config/travis.sh
  #- source ./travis.sh  # Optional. Explained later
</code></pre></div>
<p>Also, the example of entire file .travis.yml can be found in
<a href="https://github.com/ros-industrial/industrial_core/.travis.yml">industrial_core/.travis.yml</a>.</p>

<p>That's it.</p>

<h4 id="apply-the-changes-in-this-repo-industrial_ci-to-the-checking-in-client-repos">Apply the changes in this repo (industrial_ci) to the checking in client repos</h4>

<p>Maintainers of client repos are responsible for applying the changes
that happen in this repos, if they want to use up-to-date checks; since
git submodule does NOT provide features to automatically detect the
changes made in the sub modules, maintainers need to keep an eye on the
changes.</p>

<ol>
<li> Update the SHA key of the commit in this repo. The command below
assumes that there's .gitmodules file that's generated by
git submodule add command explained above.</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">CLIENTREPO_LOCAL$ git submodule foreach git pull origin master
</code></pre></div>
<ol>
<li> Don't forget to commit the changes the command above makes.</li>
</ol>

<h3 id="optional-run-ros-prerelease-test">(Optional) Run ROS Prerelease Test</h3>

<p>Running <a href="http://wiki.ros.org/bloom/Tutorials/PrereleaseTest/">docker-based ROS Prerelease
Test</a> is strongly
recommended when you make a release. There are, however, some
inconvenience (requires host computer setup, runs on your local host,
etc. Detail discussed in <a href="https://github.com/ros-industrial/industrial_ci/pull/35#issue-150581346">a
ticket</a>).
industrial_ci provides a way to run it on your Travis CI test.</p>

<p>To do so, add a single line to your Travis config (eg. .travis.yml):</p>
<div class="highlight"><pre><code class="language-" data-lang="">ROS_DISTRO=indigo PRERELEASE=true
</code></pre></div>
<p>Or with more configuration:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ROS_DISTRO=indigo PRERELEASE=true PRERELEASE_REPONAME=industrial_core PRERELEASE_DOWNSTREAM_DEPTH=0
</code></pre></div>
<p>NOTE: A job that runs Prerelease Test does not run the checks that are
defined in
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>.
To run both, use matrix in Travis config.</p>

<p>See the usage sample in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/.travis.yml">.travis in indusrial_ci
repository</a>.</p>

<p>The following is some tips to be shared for running Prerelease Test on
Travis CI using industrial_ci.</p>

<h4 id="workaround-don-39-t-want-to-always-run-prerelease-test">(Workaround) Don't want to always run Prerelease Test</h4>

<p>The jobs that run Prerelease Test may usually take longer than the tests
defined in
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>,
which can result in longer time for the entire Travis jobs to finish.
This is usually okay, as developers who are concerned with PRs might not
wait for the Travis result that eagerly (besides that, Travis CI limits
the maximum run time as 50 minutes so there can't be very long run). If
you're concerned, however, then you may want to separately run the
Prerelease Test. An example way to do this is to create a branch
specifically for Prerelease Test where .travis.yml only defines a check
entry with PRERELEASE turned on. E.g.:</p>
<div class="highlight"><pre><code class="language-" data-lang="">:
env:
  matrix:
    - ROS_DISTRO=indigo PRERELEASE=true
:
</code></pre></div>
<p>Then open a pull request using this branch against the branch that the
change is subject to be merged. You do not want to actually merge this
branch no matter what the Travis result is. This branch is solely for
Prerelease Test purpose.</p>

<h3 id="run-pre-install-custom-commands">Run pre-install custom commands</h3>

<p>You may want to add custom steps prior to the setup defined in
<a href="./travis.sh">./travis.sh</a>. Example:</p>

<ul>
<li>  A device driver package X in your repository or in your repository's
dependency requires a prorietary library installed. This library is
publicly available, but not via apt or any package management system
and thus the only way you can install it is in a classic way (unzip,
run installer etc.) (<a href="https://github.com/ros-industrial/industrial_ci/issues/14">More
discussion</a>).</li>
</ul>

<p>In this case, add sourced scripts before travis.sh gets called (see
below for an example).</p>
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source ./your_custom_PREprocess.sh
  - source .ci_config/travis.sh
  - source ./your_custom_POSTprocess.sh
</code></pre></div>
<p>In the above case, in both .ci_config/travis.sh and
your_custom_POSTprocess.sh the environment is kept from previous
script(s), so whatever is done in previous scripts remains.</p>

<h3 id="optional-build-depended-packages-from-source">(Optional) Build depended packages from source</h3>

<p>By default the packages your package depend upon are installed via
binaries. However, you may want to build them via source in some cases
(e.g. when depended binaries are not available). There are a few ways to
do so in industrial_ci. Examples of all are available in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/.travis.yml">.travis.yml
file on this
repository</a>.</p>

<h4 id="use-rosinstall-file-to-specify-the-depended-packages-source-repository">Use .rosinstall file to specify the depended packages source repository</h4>

<p>Standard way is 1) set UPSTREAM_WORKSPACE as file, 2) create a file
\$ROSINSTALL_FILENAME using the same file format as
<a href="http://docs.ros.org/independent/api/rosinstall/html/rosinstall_file_format.html">.rosinstall</a>
and place it at the top level directory of your package.</p>

<h4 id="have-multiple-rosinstall-files-per-ros-distro">Have multiple .rosinstall files per ROS-distro</h4>

<p>By adding .\$ROS_DISTRO suffix to your \$ROSINSTALL_FILENAME file, you
can specify which file to use per your \$ROS_DISTRO. So the syntax of
the file name for this purpose is \$ROSINSTALL_FILENAME.\$ROS_DISTRO.
For example, let's say you want to test multiple distros (indigo, jade)
and you have .travis.rosinstall and .travis.rosinstall.jade files in
your repo. You can define the Travis config as:</p>
<div class="highlight"><pre><code class="language-" data-lang="">env:
  matrix:

    - ROS_DISTRO=indigo UPSTREAM_WORKSPACE=file
    - ROS_DISTRO=jade   UPSTREAM_WORKSPACE=file
</code></pre></div>
<p>With this config, for indigo default file name .travis.rosinstall will
be seached and used if found. For jade, the file that consists of the
default file name plus .jade suffix will be prioritized.</p>

<p>When \$ROSINSTALL_FILENAME.\$ROS_DISTRO file isn't found,
\$ROSINSTALL_FILENAME will be used for all jobs that define
UPSTREAM_WORKSPACE.</p>

<h4 id="use-rosinstall-from-external-location">Use .rosinstall from external location</h4>

<p>You can utilize .rosinstall file stored anywhere as long as its location
is URL specifyable. To do so, set its complete path URL directly to
UPSTREAM_WORKSPACE.</p>

<h2 id="for-maintainers-of-industrial_ci-repository">For maintainers of industrial_ci repository</h2>

<h3 id="checks-for-industrial_ci-repo-itself">Checks for industrial_ci repo itself</h3>

<p>While this repository provides CI config that can be used by other
repositories, it also checks this repo itself using the same CI config
and the simplest package setting. That is why this repo contains the ROS
package files and a test (CMakeLists.txt, package.xml, .test).</p>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="changelog-for-package-industrial_ci">Changelog for package industrial_ci</h1>

<h2 id="0-2-2-2016-05-13">0.2.2 (2016-05-13)</h2>

<ul>
<li>  [fix] Remove wrong duplicate prerelease test code block.
<a href="https://github.com/ros-industrial/industrial_ci/issues/40">#40</a>
</li>
<li>  [sys] Adjust to ROS Indigo's up-to-date ros.key acquision.
<a href="https://github.com/ros-industrial/industrial_ci/issues/42">#42</a>
</li>
<li>  Contributors: Isaac I.Y. Saito, Gijs van der Hoorn, Mathias Luedtke</li>
</ul>

<h2 id="0-2-1-2016-05-06">0.2.1 (2016-05-06)</h2>

<ul>
<li>  [feat] Add docker-based ROS prerelease test.
<a href="https://github.com/ros-industrial/industrial_ci/issues/35">#35</a>
</li>
<li>  [fix] Correct environment variable exportation to subprocesses.</li>
<li>  [fix] Better script termination with 'set -e'.</li>
<li>  [fix] broken link in README
<a href="https://github.com/ros-industrial/industrial_ci/issues/37">#37</a>
</li>
<li>  [fix] apt-get quiet option
<a href="https://github.com/ros-industrial/industrial_ci/issues/33">#33</a>
</li>
<li>  [sys] Extract util functions</li>
<li>  [sys] Remove meaningless Travis jobs</li>
<li>  [doc] Some clarifications.</li>
<li>  [improve] More fold Travis result (wstool version and
localname info)
<a href="https://github.com/ros-industrial/industrial_ci/issues/38">#38</a>
</li>
<li>  Contributors: Mathias Luedtke, Dave Coleman, Victor Lamoine,
Isaac I.Y. Saito</li>
</ul>

<h2 id="0-2-0-2016-04-19">0.2.0 (2016-04-19)</h2>

<ul>
<li>  Adjust to catkin_tools 0.4.0
<a href="https://github.com/ros-industrial/industrial_ci/issues/31">#31</a>
</li>
<li>  Contributors: Isaac I.Y. Saito</li>
</ul>

<h2 id="0-1-3-2016-04-14">0.1.3 (2016-04-14)</h2>

<ul>
<li>  [fix] Temporarilly disable rospack plugin line (fixes
<a href="https://github.com/ros-industrial/industrial_ci/issues/26">#26</a>).
<a href="https://github.com/ros-industrial/industrial_ci/issues/28">#28</a>
</li>
<li>  [fix] missing an arg for specifying the number parallel job.</li>
<li>  Fix undeclared args for the number parallel job
<a href="https://github.com/ros-industrial/industrial_ci/issues/22">#22</a>
</li>
<li>  [doc] Clarify parallel job args.</li>
<li>  Contributors: Isaac I.Y. Saito</li>
</ul>

<h2 id="0-1-2-2016-02-08">0.1.2 (2016-02-08)</h2>

<ul>
<li>  [fix] Move a patch that becomes available via DEB to older ROS
distro only section
(<a href="https://github.com/ros-industrial/industrial_ci/issues/20">#20</a>)</li>
<li>  [feat] Add option to not test
(<a href="https://github.com/ros-industrial/industrial_ci/issues/16">#16</a>)</li>
<li>  Contributors: Isaac I.Y. Saito, Gijs van der Hoorn</li>
</ul>

<h2 id="0-1-1-2016-01-05">0.1.1 (2016-01-05)</h2>

<ul>
<li>  [feat] Better variable name for downstream pkgs</li>
<li>  [doc] Many improvements including replacing "git submodule" with
"git clone"</li>
<li>  [enhance] Output enhancement and cleanup</li>
<li>  [enhance] Turn off status line
(<a href="https://github.com/ros-industrial/industrial_ci/issues/4">#4</a>)</li>
<li>  [sys] Remove a tentative workaround for a test location issue
(<a href="https://github.com/ros/ros_comm/pull/668">https://github.com/ros/ros_comm/pull/668</a>)</li>
<li>  Contributors: Isaac I.Y. Saito, Mathias Luedtke</li>
</ul>

<h2 id="0-1-0-2015-12-08">0.1.0 (2015-12-08)</h2>

<ul>
<li>  Init commit of travis config and scripts</li>
<li>  Add license and copyright header</li>
<li>  Contributors: Shaun Edwards, Isaac I.Y. Saito</li>
</ul>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jade-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>See <a href="http://wiki.ros.org/industrial_ci/Tutorials" target="_blank">ROS Wiki Tutorials</a> for more details.</em>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Source Tutorials</h3>
      </div>
      <div class="panel-body">
        <em>Not currently indexed.</em>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jade-deps">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th class="text-center"><span class="glyphicon glyphicon-th"></span></th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/catkin#jade-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/catkin" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/catkin#jade">catkin</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rospy_tutorials#jade-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rospy_tutorials" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rospy_tutorials#jade">rospy_tutorials</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rostest#jade-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rostest" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rostest#jade">rostest</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python">python</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-catkin-tools">python-catkin-tools</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="jade-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>
</div>

<script src="/js/package_body_tabs.js"></script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item" target="_blank" href="http://docs.ros.org/jade/api/industrial_ci/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span> API Docs</a>
  <a class="list-group-item" target="_blank" href="https://github.com//ros-industrial/industrial_ci/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span> Browse Code</a>
  <a class="list-group-item" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:industrial_ci/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span> Get Help</a>
  <a class="list-group-item inactive" target="_blank" href="http://wiki.ros.org/industrial_ci?distro=jade"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span> Wiki</a>
  <a class="list-group-item inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=industrial_ci&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span> Eco</a>
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/industrial_ci">industrial_ci</a> <small>package from <a style="text-decoration:none" href="/r/industrial_ci/github-ros-industrial-industrial_ci">industrial_ci</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

<span class="glyphicon glyphicon-file"></span> industrial_ci
</span>
            
          
      </td>
    </tr>
  </table>
  <div class="top-buffer distro distro-indigo">
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/packages/industrial_ci"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-none"></span>
                  github-ros-industrial-industrial_ci
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-ros-industrial-industrial_ci" role="menuitem" tabindex="-1" href="/p/industrial_ci/github-ros-industrial-industrial_ci" data="github-ros-industrial-industrial_ci">
                    <span class="glyphicon glyphicon-none"></span>
                    github-ros-industrial-industrial_ci
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center" target="_blank" href="http://docs.ros.org/indigo/api/industrial_ci/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span><br> API Docs</a>
  <a class="list-group-item text-center" target="_blank" href="https://github.com//ros-industrial/industrial_ci/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span><br> Browse Code</a>
  <a class="list-group-item text-center" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:industrial_ci/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span><br> Get Help</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://wiki.ros.org/industrial_ci?distro=indigo"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span><br> Wiki</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=industrial_ci&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span><br> Eco</a>
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="indigo-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#indigo-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#indigo-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#indigo-deps" data-toggle="tab"><span class="label label-primary">5</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#indigo-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="indigo-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.2.2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>BSD</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Buildtool</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/ros-industrial/industrial_ci.git">https://github.com/ros-industrial/industrial_ci.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2016-06-21
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            common travis script suite
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Isaac I. Y. Saito</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Isaac I. Y. Saito</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-file"></span> README</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="industrial-ci">Industrial CI</h1>

<p>Continuous integration repository for ROS-Industrial</p>

<h2 id="introduction">Introduction</h2>

<p>This repository contains <a href="https://en.wikipedia.org/wiki/Continuous_integration">CI (Continuous
Integration)</a>
configuration that can be commonly used by the repositories in
<a href="https://github.com/ros-industrial">ros-industrial</a> organization. Non
ros-industrial repositories in other organizations can utilize the CI
config here too, as long as they are ROS-powered.</p>

<p>As of December 2015, this repo provides configuration for Travis CI. The
CI config in this repository is intended to be obtained by git clone
feature. In client repos you can define custom, repository-specific
checks, in addition to the generic configs stored in this repo.</p>

<p>For a brief introduction, you could also check a presentation:</p>

<ul>
<li>  <a href="http://rosindustrial.org/news/2016/6/14/ros-i-community-web-meeting-june-2016">ROS-Industrial community
meeting</a>
</li>
</ul>

<h3 id="supported-ros-distributions">Supported ROS distributions</h3>

<p>Following <a href="http://wiki.ros.org/action/login/Distributions">ROS
distributions</a> are
supported.</p>

<ul>
<li>  <a href="http://wiki.ros.org/indigo">Indigo</a>
</li>
<li>  <a href="http://wiki.ros.org/jade">Jade</a>
</li>
<li>  <a href="http://wiki.ros.org/kinetic">Kinetic</a>
</li>
</ul>

<h3 id="terminology">Terminology</h3>

<ul>
<li>  <strong>client repository</strong>: The repositories that use the configuration
stored in this repo to run CI jobs.</li>
<li>  <strong>downstream packages</strong>: The software packages that depend on the
package that's targetted to be tested using industrial_ci.</li>
</ul>

<h2 id="faq">FAQ</h2>

<ul>
<li>
<p>Q- This config can be used ONLY by the repositories under
<a href="https://github.com/ros-industrial">github/ros-industrial</a>
organization?</p>

<p>A- No. industrial_ci repo is open to public. Anyone can use this
from any platform. Note that because as of Dec. 2015 it has only
config for <a href="https://travis-ci.org/">Travis CI</a>, you may want to use
it where Travis CI is available (github.com works the best.</p>
</li>
<li>
<p>Q- What kind of checks are implemented that are specific to
industrial robotics?</p>

<p>A- As of Dec. 2015, no particular configuration for industrial robot
is defined.</p>
</li>
<li>
<p>Q- So, can the config be used against any robotics repository?</p>

<p>A- I'd say no. It's still limited for the projects based on
<a href="http://ros.org/">ROS</a>. And checks are run on Ubuntu linux.</p>
</li>
<li>
<p>Q- In my project there aren't yet test cases. Can I still have it
checked using industrial_ci and what can I get out of the check?</p>

<p>A- The industrial_ci still provides valuable checks; it ensures if
your package builds without issues. Also installation rules if
you define. Just as a headsup that making test cases are highly
recommended as your ear may hurt.</p>
</li>
<li>
<p>Q- My package uses a custom Point Cloud Library (PCL) version or the
<a href="https://github.com/ros-industrial/industrial_calibration">industrial_calibration</a>
package, how do I make build work?</p>

<p>A- You can check
<a href="https://github.com/InstitutMaupertuis/advanced_industrial_ci">advanced_industrial_ci</a>
which provides scripts and binaries for PCL 1.8.0 and the
Ceres solver. An integration example can be found
<a href="https://github.com/InstitutMaupertuis/ensenso_extrinsic_calibration/blob/indigo-devel/.travis.yml">here</a>.</p>
</li>
<li>
<p>Q- How does the target package get installed?</p>

<p>A- Travis CI does this. It pulls in your package to an running
instance of an operating system of your choice, and place your
package under /home/travis.</p>
</li>
<li>
<p>Q- The jobs on Travis CI are failing. How can I fix them?</p>

<p>A- (1) Find the section where error occurred that caused CI to stop.
Sections are folded nicely and it's colored red when it fails. (2)
Then identify whether the issue is pertaining to your package, or
something else. Sometimes a cause is in industrial_ci, not
your package. (3) Reviewing <a href="https://docs.travis-ci.com/user/common-build-problems">Common Build Problems for Travis
CI</a> helps you
to isolate the root cause. (4) If you think the root cause is in
industrial_ci, (or if you're not sure,) ask at its <a href="https://github.com/ros-industrial/industrial_ci/issues">issue
tracker</a>.</p>
</li>
<li>
<p>Q- How can I customize the jobs?</p>

<p>A- (1) There are a number of variables to customize your jobs that
you can learn the usage <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#variables-you-can-configure">in this
section</a>. (2)
You can define pre- and post-processes, in addition to the default
scripts (it's
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>
for Travis CI). See <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#run-pre-install-custom-commands">this
section</a>
for how.</p>
</li>
</ul>

<h3 id="what-are-checked">What are checked?</h3>

<p>List of the checked items, in the actual order to be run.</p>

<ol>
<li> If your package builds.</li>
<li> If available tests in the given package pass. Because tests use
software from install space, it is important that the building step
ends without issues (otherwise the tests may not be reached).</li>
<li> If your package gets installed (i.e. built artifact goes into the
install space).</li>
<li> If downstream packages are designated, the tests in those
packages pass.</li>
</ol>

<p>Your client repository does NOT need to pass all of above steps; in fact
you can have only some of them tested. To pass the steps without having
tested, simply "empty" them. For instance, in your client repository:</p>

<ul>
<li>  Step 2 will be skipped when no test files are present.</li>
<li>  Step 3 will be skipped when no installation rule is defined.</li>
<li>  Step 4 will be skipped when no downstream packages to be tested
are defined.</li>
</ul>

<h2 id="prerequisite">Prerequisite</h2>

<p>In order for your repository to get checked with configurations in
industrial_ci, it needs:</p>

<ul>
<li>  To be a <a href="http://wiki.ros.org/ROS/Tutorials/catkin/CreatingPackage">Catkin
package</a>
(uses CMake for build configuration), since many checks are
triggered by the Catkin-based commands.</li>
<li>  Build-able on Linux (as of Dec 2015, Ubuntu 14.04/Trusty is used).
Although your repository is not necessarilly intended for Linux,
checks are run on Linux.</li>
</ul>

<h2 id="usage">Usage</h2>

<p>Here are some operations in your client repositories.</p>

<h3 id="to-start-using-ci-config-stored-in-this-repo">To start using CI config stored in this repo</h3>

<p>With the following few short steps, you can start in your client
repository using CI confiurations stored in here (industrial_ci
repository).</p>

<ol>
<li> Don't forget to activate CI on your github repository (you may do so
on <a href="https://travis-ci.org/profile/YOUR_GITHUB_ORGANIZATION">https://travis-ci.org/profile/YOUR_GITHUB_ORGANIZATION</a> or
<a href="https://travis-ci.org/profile/YOUR_GITHUB_USER">https://travis-ci.org/profile/YOUR_GITHUB_USER</a>).</li>
<li> In .travis.yml file in your client repo, add in before_config
section a sentence
git clone <a href="https://github.com/ros-industrial/industrial%5C_ci.git">https://github.com/ros-industrial/industrial\_ci.git</a> .ci_config,
like below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">before_config:
  - git clone https://github.com/ros-industrial/industrial_ci.git .ci_config
script:
  - source .ci_config/travis.sh
</code></pre></div>
<ul>
<li>  Note that .ci_config is the required name of the cloned folder; it
is hardcoded so you need to use this name.</li>
<li>  Example of entire file .travis.yml can be found in
<a href="https://github.com/ros-industrial/industrial_core/blob/indigo-devel/.travis.yml">industrial_core/.travis.yml</a>.</li>
</ul>

<p>That's it.</p>

<h3 id="apply-the-changes-in-this-repo-industrial_ci-to-the-checking-in-client-repos">Apply the changes in this repo (industrial_ci) to the checking in client repos</h3>

<p>Nothing. Once you add git clone statement in your client repo, basically
you don't need to do anything to apply the change in industrial_ci
repository.</p>

<h3 id="example-client-packages">Example client packages</h3>

<ul>
<li>  <a href="https://github.com/ros-industrial/industrial_core/blob/indigo-devel/.travis.yml">ros-industrial/industrial_core</a>
</li>
<li>  <a href="https://github.com/ros-industrial-consortium/descartes/blob/indigo-devel/.travis.yml">ros-industrial-consortium/descartes</a>
</li>
</ul>

<h3 id="variables-you-can-configure">Variables you can configure</h3>

<p>You can configure the behavior in .travis.yml in your client repository.</p>

<ul>
<li>  OS to use. Defined at dist tag.</li>
</ul>

<p>Required environment variables:</p>

<ul>
<li>  `ROS_REPOSITORY_PATH`: Location of ROS' binary repositories
where depended packages get installed from (typically both standard
repo (<a href="http://packages.ros.org/ros/ubuntu">http://packages.ros.org/ros/ubuntu</a>) and <a href="http://wiki.ros.org/ShadowRepository">"Shadow-Fixed"
repository</a> (<a href="http://packages.ros.org/ros-shadow-fixed/ubuntu)">http://packages.ros.org/ros-shadow-fixed/ubuntu)</a>)</li>
<li>  `ROS_DISTRO`: Version of ROS in all lower case. E.g.: indigo /
jade</li>
</ul>

<h4 id="optional-environment-variables">Optional environment variables</h4>

<p>Note that some of these currently tied only to a single option, but we
still leave them for the future when more options become available (e.g.
ament with BUILDER).</p>

<ul>
<li>  ADDITIONAL_DEBS (default: not set): More DEBs to be used. List the
name of DEB(s delimitted by whitespace if multiple DEBs specified).
Needs to be full-qualified Ubuntu package name. E.g.:
"ros-indigo-roslint ros-indigo-gazebo-ros" (without quotation).</li>
<li>  `BEFORE_SCRIPT`: (default: not set): Used to specify shell
commands that run before building packages.</li>
<li>  BUILD_PKGS_WHITELIST (default: not set): Packages to be built can
be explicitly specified with this, in ROS package name format (i.e.
using underscore. No hyphen). This is useful when your repo contains
some packages that you don't want to be used upon testing.
Downstream packages, if necessary, should be also specified
using this. Also these packages are to be built when
NOT_TEST_INSTALL is set. Finally, packages specified with this
will be built together with those speicified using
unimplmented USE_DEB.</li>
<li>  BUILDER (default: catkin): Currently only catkin is implemented (and
with that catkin_tools is used instead of catkin_make. See <a href="https://github.com/ros-industrial/industrial_ci/issues/3">this
discussion</a>).</li>
<li>  CATKIN_PARALLEL_JOBS (default: -p4): Maximum number of packages to
be built in parallel that is passed to underlining build tool. As of
Jan 2016, this is only enabled with catkin_tools. See for more
detail about <a href="http://catkin-tools.readthedocs.org/en/latest/verbs/catkin_build.html#controlling-the-number-of-build-jobs">number of build
jobs</a>
and <a href="https://catkin-tools.readthedocs.org/en/latest/verbs/catkin_build.html#full-command-line-interface">documentation of
catkin_tools</a>
that this env variable is passed to internally in catkin-tools.</li>
<li>  CATKIN_PARALLEL_TEST_JOBS (default: -p4): Maximum number of
packages which could be examined in parallel during the test run. If
not set it's filled by ROS_PARALLEL_JOBS.</li>
<li>  CI_PARENT_DIR (default: .ci_config): (NOT recommended to specify)
This is the folder name that is used in downstream repositories in
order to point to this repo.</li>
<li>  NOT_TEST_BUILD (default: not set): If true, tests in build space
won't be run.</li>
<li>  NOT_TEST_INSTALL (default: not set): If true, tests in install
space won't be run.</li>
<li>  PRERELEASE (default: false): If true, run <a href="http://wiki.ros.org/bloom/Tutorials/PrereleaseTest/">Prerelease Test on docker
that emulates ROS
buildfarm</a>. The
usage of Prerelease Test feature is <a href="https://github.com/ros-industrial/industrial_ci/blob/add/dockerbased_prerelease/README.rst#optional-run-ros-prerelease-test">explained more in this
section</a>.</li>
<li>  PRERELEASE_DOWNSTREAM_DEPTH (0 to 4, default: 0): Number of the
levels of the package dependecies the Prerelease Test targets at.
Range of the level is defined by ROS buildfarm
(<a href="http://prerelease.ros.org"></a>). NOTE: a job can run exponentially
longer for the values greater than 0 depending on how many packages
depend on your package (and remember a job on Travis CI can only run
for up to 50 minutes).</li>
<li>  PRERELEASE_REPONAME (default: not set): The target of Prerelease
Test (that you select at <a href="http://prerelease.ros.org/indigo"></a>,
<a href="http://prerelease.ros.org/kinetic"></a> etc.) If not set then it tests
the package of the repository's name. You can specify this by your
ROS package name format (with underscore e.g. industrial_core), not
Debian package name format. NOTE that this package name must be
listed in the rosdistro/distribution.yaml (e.g. [for ROS
Indigo](<a href="https://github.com/ros/rosdistro/blob/master/indigo/distribution.yaml">https://github.com/ros/rosdistro/blob/master/indigo/distribution.yaml</a>))
(this requirement comes from ROS buildfarm's Prerelease Test).</li>
<li>  PKGS_DOWNSTREAM (default: explained): Packages in downstream to
be tested. By default, TARGET_PKGS is used if set, if not then
BUILD_PKGS is used.</li>
<li>  ROS_PARALLEL_JOBS (default: -j8): Maximum number of packages to be
built in parallel by the underlining build tool. As of Jan 2016,
this is only enabled with catkin_tools (with make as an
underlining builder).</li>
<li>  ROS_PARALLEL_TEST_JOBS (default: -j8): Maximum number of packages
which could be examined in parallel during the test run by the
underlining build tool. If not set it's filled
by ROS_PARALLEL_JOBS. As of Jan 2016, this is only enabled with
catkin_tools (with make as an underlining builder).</li>
<li>  ROSINSTALL_FILENAME (default: not set): See
UPSTREAM_WORKSPACE description.</li>
<li>  ROSWS (default: wstool): Currently only wstool is available.</li>
<li>  TARGET_PKGS (default: not set): Used to fill PKGS_DOWNSTREAM if it
is not set. If not set packages are set using the output of
catkin_topological_order for the source space.</li>
<li>  UPSTREAM_WORKSPACE (default: debian): When this is set file, the
dependended packages that need to be built from source are
downloaded based on a .rosinstall file in your repository. Use
\$ROSINSTALL_FILENAME to specify the file name. See more in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/README.rst#optional-build-depended-packages-from-source">this
section</a>.</li>
<li>  USE_DEB (<em>DEPRECATED</em>: use UPSTREAM_WORKSPACE instead. default:
true): if true, UPSTREAM_WORKSPACE will be set as debian. if false,
file will be set. See UPSTREAM_WORKSPACE section for more info.</li>
</ul>

<p>Note: You see some *PKGS* variables. These make things very flexible
but in normal usecases you don't need to be bothered with them - just
keep them blank.</p>

<h3 id="optional-but-recommended-subscribe-to-the-change-in-this-repo-industrial_ci">(Optional but recommended) Subscribe to the change in this repo (industrial_ci)</h3>

<p>Because of the aforementioned responsibility for the maintainers to
watch the changes in industrial_ci, <a href="https://github.com/ros-industrial/industrial_ci/subscription">you're encouraged to subscribe to
the updates in this
repository</a>.</p>

<h3 id="add-repository-specific-ci-config-in-addition">Add repository-specific CI config in addition</h3>

<p>Sometimes CI config stored in industrial_ci repo may not be sufficient
for your purpose. In that case you can add your own config, while you
still take advantage of industrial_ci repository.</p>

<ol>
<li> In .travis.yml file in your client repo, add the portion below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source .ci_config/travis.sh
  - source ./travis.sh
</code></pre></div>
<ol>
<li> Create travis.sh file and define the checks you wish to add. NOTE:
this .sh file you add here is a normal shell script, so this
shouldn't be written in travis CI grammar.</li>
</ol>

<h3 id="optional-to-use-specific-version-of-industrial_ci-in-your-client-repo">(Optional) To use specific version of industrial_ci in your client repo</h3>

<p>(A minor) downside of how you associate your client repo to this
industrial_ci repository is that you have no control over which version
to use (see <a href="https://github.com/ros-industrial/industrial_ci/issues/3">discussion in this
ticket</a>). If
you wish you can specify the version.</p>

<p>The following is an example using git submodule. Note that when using
this method, you have to manually update the submodule every time
there's an update in this industrial_ci package.</p>

<h4 id="first-time-you-define-the-dependency-to-this-repo">First time you define the dependency to this repo</h4>

<ol>
<li> Run git submodule command.</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">CLIENTREPO_LOCAL$ git submodule add https://github.com/ros-industrial/industrial_ci .ci_config
</code></pre></div>
<p>This standard git submodule command:</p>

<ul>
<li>  hooks up your client repository to this repo by the name
".ci_config" (this name is hardcoded and mandatory).</li>
<li>  stores the configuration in a file called .gitmodules.</li>
</ul>

<ol>
<li> Don't forget to activate CI on your github repository (you may do so
on <a href="https://travis-ci.org/profile/YOUR_GITHUB_USER">https://travis-ci.org/profile/YOUR_GITHUB_USER</a>).</li>
<li> In .travis.yml file in your client repo, add the portion below:</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source .ci_config/travis.sh
  #- source ./travis.sh  # Optional. Explained later
</code></pre></div>
<p>Also, the example of entire file .travis.yml can be found in
<a href="https://github.com/ros-industrial/industrial_core/.travis.yml">industrial_core/.travis.yml</a>.</p>

<p>That's it.</p>

<h4 id="apply-the-changes-in-this-repo-industrial_ci-to-the-checking-in-client-repos">Apply the changes in this repo (industrial_ci) to the checking in client repos</h4>

<p>Maintainers of client repos are responsible for applying the changes
that happen in this repos, if they want to use up-to-date checks; since
git submodule does NOT provide features to automatically detect the
changes made in the sub modules, maintainers need to keep an eye on the
changes.</p>

<ol>
<li> Update the SHA key of the commit in this repo. The command below
assumes that there's .gitmodules file that's generated by
git submodule add command explained above.</li>
</ol>

<!-- -->
<div class="highlight"><pre><code class="language-" data-lang="">CLIENTREPO_LOCAL$ git submodule foreach git pull origin master
</code></pre></div>
<ol>
<li> Don't forget to commit the changes the command above makes.</li>
</ol>

<h3 id="optional-run-ros-prerelease-test">(Optional) Run ROS Prerelease Test</h3>

<p>Running <a href="http://wiki.ros.org/bloom/Tutorials/PrereleaseTest/">docker-based ROS Prerelease
Test</a> is strongly
recommended when you make a release. There are, however, some
inconvenience (requires host computer setup, runs on your local host,
etc. Detail discussed in <a href="https://github.com/ros-industrial/industrial_ci/pull/35#issue-150581346">a
ticket</a>).
industrial_ci provides a way to run it on your Travis CI test.</p>

<p>To do so, add a single line to your Travis config (eg. .travis.yml):</p>
<div class="highlight"><pre><code class="language-" data-lang="">ROS_DISTRO=indigo PRERELEASE=true
</code></pre></div>
<p>Or with more configuration:</p>
<div class="highlight"><pre><code class="language-" data-lang="">ROS_DISTRO=indigo PRERELEASE=true PRERELEASE_REPONAME=industrial_core PRERELEASE_DOWNSTREAM_DEPTH=0
</code></pre></div>
<p>NOTE: A job that runs Prerelease Test does not run the checks that are
defined in
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>.
To run both, use matrix in Travis config.</p>

<p>See the usage sample in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/.travis.yml">.travis in indusrial_ci
repository</a>.</p>

<p>The following is some tips to be shared for running Prerelease Test on
Travis CI using industrial_ci.</p>

<h4 id="workaround-don-39-t-want-to-always-run-prerelease-test">(Workaround) Don't want to always run Prerelease Test</h4>

<p>The jobs that run Prerelease Test may usually take longer than the tests
defined in
<a href="https://github.com/ros-industrial/industrial_ci/blob/master/travis.sh">travis.sh</a>,
which can result in longer time for the entire Travis jobs to finish.
This is usually okay, as developers who are concerned with PRs might not
wait for the Travis result that eagerly (besides that, Travis CI limits
the maximum run time as 50 minutes so there can't be very long run). If
you're concerned, however, then you may want to separately run the
Prerelease Test. An example way to do this is to create a branch
specifically for Prerelease Test where .travis.yml only defines a check
entry with PRERELEASE turned on. E.g.:</p>
<div class="highlight"><pre><code class="language-" data-lang="">:
env:
  matrix:
    - ROS_DISTRO=indigo PRERELEASE=true
:
</code></pre></div>
<p>Then open a pull request using this branch against the branch that the
change is subject to be merged. You do not want to actually merge this
branch no matter what the Travis result is. This branch is solely for
Prerelease Test purpose.</p>

<h3 id="run-pre-install-custom-commands">Run pre-install custom commands</h3>

<p>You may want to add custom steps prior to the setup defined in
<a href="./travis.sh">./travis.sh</a>. Example:</p>

<ul>
<li>  A device driver package X in your repository or in your repository's
dependency requires a prorietary library installed. This library is
publicly available, but not via apt or any package management system
and thus the only way you can install it is in a classic way (unzip,
run installer etc.) (<a href="https://github.com/ros-industrial/industrial_ci/issues/14">More
discussion</a>).</li>
</ul>

<p>In this case, add sourced scripts before travis.sh gets called (see
below for an example).</p>
<div class="highlight"><pre><code class="language-" data-lang="">script: 
  - source ./your_custom_PREprocess.sh
  - source .ci_config/travis.sh
  - source ./your_custom_POSTprocess.sh
</code></pre></div>
<p>In the above case, in both .ci_config/travis.sh and
your_custom_POSTprocess.sh the environment is kept from previous
script(s), so whatever is done in previous scripts remains.</p>

<h3 id="optional-build-depended-packages-from-source">(Optional) Build depended packages from source</h3>

<p>By default the packages your package depend upon are installed via
binaries. However, you may want to build them via source in some cases
(e.g. when depended binaries are not available). There are a few ways to
do so in industrial_ci. Examples of all are available in <a href="https://github.com/ros-industrial/industrial_ci/blob/master/.travis.yml">.travis.yml
file on this
repository</a>.</p>

<h4 id="use-rosinstall-file-to-specify-the-depended-packages-source-repository">Use .rosinstall file to specify the depended packages source repository</h4>

<p>Standard way is 1) set UPSTREAM_WORKSPACE as file, 2) create a file
\$ROSINSTALL_FILENAME using the same file format as
<a href="http://docs.ros.org/independent/api/rosinstall/html/rosinstall_file_format.html">.rosinstall</a>
and place it at the top level directory of your package.</p>

<h4 id="have-multiple-rosinstall-files-per-ros-distro">Have multiple .rosinstall files per ROS-distro</h4>

<p>By adding .\$ROS_DISTRO suffix to your \$ROSINSTALL_FILENAME file, you
can specify which file to use per your \$ROS_DISTRO. So the syntax of
the file name for this purpose is \$ROSINSTALL_FILENAME.\$ROS_DISTRO.
For example, let's say you want to test multiple distros (indigo, jade)
and you have .travis.rosinstall and .travis.rosinstall.jade files in
your repo. You can define the Travis config as:</p>
<div class="highlight"><pre><code class="language-" data-lang="">env:
  matrix:

    - ROS_DISTRO=indigo UPSTREAM_WORKSPACE=file
    - ROS_DISTRO=jade   UPSTREAM_WORKSPACE=file
</code></pre></div>
<p>With this config, for indigo default file name .travis.rosinstall will
be seached and used if found. For jade, the file that consists of the
default file name plus .jade suffix will be prioritized.</p>

<p>When \$ROSINSTALL_FILENAME.\$ROS_DISTRO file isn't found,
\$ROSINSTALL_FILENAME will be used for all jobs that define
UPSTREAM_WORKSPACE.</p>

<h4 id="use-rosinstall-from-external-location">Use .rosinstall from external location</h4>

<p>You can utilize .rosinstall file stored anywhere as long as its location
is URL specifyable. To do so, set its complete path URL directly to
UPSTREAM_WORKSPACE.</p>

<h2 id="for-maintainers-of-industrial_ci-repository">For maintainers of industrial_ci repository</h2>

<h3 id="checks-for-industrial_ci-repo-itself">Checks for industrial_ci repo itself</h3>

<p>While this repository provides CI config that can be used by other
repositories, it also checks this repo itself using the same CI config
and the simplest package setting. That is why this repo contains the ROS
package files and a test (CMakeLists.txt, package.xml, .test).</p>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="changelog-for-package-industrial_ci">Changelog for package industrial_ci</h1>

<h2 id="0-2-2-2016-05-13">0.2.2 (2016-05-13)</h2>

<ul>
<li>  [fix] Remove wrong duplicate prerelease test code block.
<a href="https://github.com/ros-industrial/industrial_ci/issues/40">#40</a>
</li>
<li>  [sys] Adjust to ROS Indigo's up-to-date ros.key acquision.
<a href="https://github.com/ros-industrial/industrial_ci/issues/42">#42</a>
</li>
<li>  Contributors: Isaac I.Y. Saito, Gijs van der Hoorn, Mathias Luedtke</li>
</ul>

<h2 id="0-2-1-2016-05-06">0.2.1 (2016-05-06)</h2>

<ul>
<li>  [feat] Add docker-based ROS prerelease test.
<a href="https://github.com/ros-industrial/industrial_ci/issues/35">#35</a>
</li>
<li>  [fix] Correct environment variable exportation to subprocesses.</li>
<li>  [fix] Better script termination with 'set -e'.</li>
<li>  [fix] broken link in README
<a href="https://github.com/ros-industrial/industrial_ci/issues/37">#37</a>
</li>
<li>  [fix] apt-get quiet option
<a href="https://github.com/ros-industrial/industrial_ci/issues/33">#33</a>
</li>
<li>  [sys] Extract util functions</li>
<li>  [sys] Remove meaningless Travis jobs</li>
<li>  [doc] Some clarifications.</li>
<li>  [improve] More fold Travis result (wstool version and
localname info)
<a href="https://github.com/ros-industrial/industrial_ci/issues/38">#38</a>
</li>
<li>  Contributors: Mathias Luedtke, Dave Coleman, Victor Lamoine,
Isaac I.Y. Saito</li>
</ul>

<h2 id="0-2-0-2016-04-19">0.2.0 (2016-04-19)</h2>

<ul>
<li>  Adjust to catkin_tools 0.4.0
<a href="https://github.com/ros-industrial/industrial_ci/issues/31">#31</a>
</li>
<li>  Contributors: Isaac I.Y. Saito</li>
</ul>

<h2 id="0-1-3-2016-04-14">0.1.3 (2016-04-14)</h2>

<ul>
<li>  [fix] Temporarilly disable rospack plugin line (fixes
<a href="https://github.com/ros-industrial/industrial_ci/issues/26">#26</a>).
<a href="https://github.com/ros-industrial/industrial_ci/issues/28">#28</a>
</li>
<li>  [fix] missing an arg for specifying the number parallel job.</li>
<li>  Fix undeclared args for the number parallel job
<a href="https://github.com/ros-industrial/industrial_ci/issues/22">#22</a>
</li>
<li>  [doc] Clarify parallel job args.</li>
<li>  Contributors: Isaac I.Y. Saito</li>
</ul>

<h2 id="0-1-2-2016-02-08">0.1.2 (2016-02-08)</h2>

<ul>
<li>  [fix] Move a patch that becomes available via DEB to older ROS
distro only section
(<a href="https://github.com/ros-industrial/industrial_ci/issues/20">#20</a>)</li>
<li>  [feat] Add option to not test
(<a href="https://github.com/ros-industrial/industrial_ci/issues/16">#16</a>)</li>
<li>  Contributors: Isaac I.Y. Saito, Gijs van der Hoorn</li>
</ul>

<h2 id="0-1-1-2016-01-05">0.1.1 (2016-01-05)</h2>

<ul>
<li>  [feat] Better variable name for downstream pkgs</li>
<li>  [doc] Many improvements including replacing "git submodule" with
"git clone"</li>
<li>  [enhance] Output enhancement and cleanup</li>
<li>  [enhance] Turn off status line
(<a href="https://github.com/ros-industrial/industrial_ci/issues/4">#4</a>)</li>
<li>  [sys] Remove a tentative workaround for a test location issue
(<a href="https://github.com/ros/ros_comm/pull/668">https://github.com/ros/ros_comm/pull/668</a>)</li>
<li>  Contributors: Isaac I.Y. Saito, Mathias Luedtke</li>
</ul>

<h2 id="0-1-0-2015-12-08">0.1.0 (2015-12-08)</h2>

<ul>
<li>  Init commit of travis config and scripts</li>
<li>  Add license and copyright header</li>
<li>  Contributors: Shaun Edwards, Isaac I.Y. Saito</li>
</ul>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>See <a href="http://wiki.ros.org/industrial_ci/Tutorials" target="_blank">ROS Wiki Tutorials</a> for more details.</em>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Source Tutorials</h3>
      </div>
      <div class="panel-body">
        <em>Not currently indexed.</em>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-deps">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th class="text-center"><span class="glyphicon glyphicon-th"></span></th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/catkin#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/catkin" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/catkin#indigo">catkin</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rospy_tutorials#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rospy_tutorials" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rospy_tutorials#indigo">rospy_tutorials</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rostest#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rostest" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/rostest#indigo">rostest</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th>Name</th>
                </thead>
                <tbody>
                  
                    
                      <tr>
                        <td><a href="/d/python">python</a></td>
                      </tr>
                    
                  
                    
                      <tr>
                        <td><a href="/d/python-catkin-tools">python-catkin-tools</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
        </div>
      </div>

      <div class="col-sm-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>
</div>

<script src="/js/package_body_tabs.js"></script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item" target="_blank" href="http://docs.ros.org/indigo/api/industrial_ci/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span> API Docs</a>
  <a class="list-group-item" target="_blank" href="https://github.com//ros-industrial/industrial_ci/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span> Browse Code</a>
  <a class="list-group-item" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:industrial_ci/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span> Get Help</a>
  <a class="list-group-item inactive" target="_blank" href="http://wiki.ros.org/industrial_ci?distro=indigo"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span> Wiki</a>
  <a class="list-group-item inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=industrial_ci&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span> Eco</a>
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-groovy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>groovy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-fuerte">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>fuerte</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-electric">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>electric</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-diamondback">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>diamondback</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src="/js/distro_switch.js"></script>


      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/rosindex">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">rosindex</span>
          </a>
          |
          <em>generated on 2016-07-04</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
