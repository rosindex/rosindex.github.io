<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    <link rel="canonical" href="http://rosindex.github.io/p/o3d3xx/">
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    

    <script type="text/javascript" src="/js/jquery.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/jquery-cookie-1.4.1/jquery.cookie.js" type="text/javascript"></script>

    <script type="text/javascript" src="/js/ga.js" async></script>
    <script type="text/javascript" src="/js/toc.js"></script>

    <!-- Pre-fetch search index files -->
    
    
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">
      <div class="row">


        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/rosindex/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="divider"></li>

                    <li class="disabled"><a href="/srvs/">Nodes</a></li>
                    <li class="disabled"><a href="/msgs/">Messages</a></li>
                    <li class="disabled"><a href="/srvs/">Services</a></li>
                    <li class="disabled"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li class="disabled"><a href="/categories/">Categories</a></li>
                    <li class="disabled"><a href="/tutorials">Tutorials</a></li>
                    <li class="disabled"><a href="/readmes">Readmes</a></li>
                    <li class="disabled"><a href="/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form action="/search/" role="form">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="q" placeholder="Search">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" type="submit"><span class="glyphicon glyphicon-search"></span></button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/packages">Packages</a></li>
        <li class="active">o3d3xx</li>
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-default" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="jade-option" class="distro-button btn btn-xs btn-default" href="#jade" data="jade">
      <input type="radio" name="options" id="jade-radio" autocomplete="off"> jade
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-primary" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  
    <label id="hydro-option" class="distro-button btn btn-xs btn-default" href="#hydro" data="hydro">
      <input type="radio" name="options" id="hydro-radio" autocomplete="off"> hydro
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="groovy" id="groovy-option" class="disabled older-distro-option"  href="#groovy">
          <a href="#groovy" data="groovy" id="groovy-button">groovy</a>
        </li>
      
        <li data="fuerte" id="fuerte-option" class="disabled older-distro-option"  href="#fuerte">
          <a href="#fuerte" data="fuerte" id="fuerte-button">fuerte</a>
        </li>
      
        <li data="electric" id="electric-option" class="disabled older-distro-option"  href="#electric">
          <a href="#electric" data="electric" id="electric-button">electric</a>
        </li>
      
        <li data="diamondback" id="diamondback-option" class="disabled older-distro-option"  href="#diamondback">
          <a href="#diamondback" data="diamondback" id="diamondback-button">diamondback</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>kinetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>jade</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/o3d3xx">o3d3xx</a> <small>package from <a style="text-decoration:none" href="/r/o3d3xx/github-lovepark-o3d3xx-ros">o3d3xx</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

<span class="glyphicon glyphicon-file"></span> o3d3xx
</span>
            
          
      </td>
    </tr>
  </table>
  <div class="top-buffer distro distro-indigo">
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/packages/o3d3xx"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-none"></span>
                  github-lovepark-o3d3xx-ros
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-lovepark-o3d3xx-ros" role="menuitem" tabindex="-1" href="/p/o3d3xx/github-lovepark-o3d3xx-ros" data="github-lovepark-o3d3xx-ros">
                    <span class="glyphicon glyphicon-none"></span>
                    github-lovepark-o3d3xx-ros
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center" target="_blank" href="http://docs.ros.org/indigo/api/o3d3xx/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span><br> API Docs</a>
  <a class="list-group-item text-center" target="_blank" href="https://github.com//lovepark/o3d3xx-ros/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span><br> Browse Code</a>
  <a class="list-group-item text-center" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:o3d3xx/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span><br> Get Help</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://wiki.ros.org/o3d3xx?distro=indigo"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span><br> Wiki</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=o3d3xx&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span><br> Eco</a>
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="indigo-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#indigo-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#indigo-assets" data-toggle="tab"><span class="label label-primary">10</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#indigo-deps" data-toggle="tab"><span class="label label-primary">8</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#indigo-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="indigo-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.2.5</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache 2</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Buildtool</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/lovepark/o3d3xx-ros.git">https://github.com/lovepark/o3d3xx-ros.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2016-06-01
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNMAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            O3D3xx ToF Camera ROS package
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <em>No additional links.</em>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Tom Panzarella</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>Tom Panzarella</li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-file"></span> README</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="o3d3xx-ros">o3d3xx-ros</h1>

<p>o3d3xx-ros is a wrapper around
<a href="https://github.com/lovepark/libo3d3xx">libo3d3xx</a> enabling the usage of IFM
Efector O3D3xx ToF cameras from within <a href="http://ros.org">ROS</a> software
systems.</p>

<h2 id="software-compatibility-matrix">Software Compatibility Matrix</h2>

<table>
         <tr>
             <th>o3d3xx-ros version</th>
             <th>libo3d3xx version</th>
             <th>ROS distribution(s)</th>
         </tr>
         <tr>
             <td>0.1.3</td>
             <td>0.1.9</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.1.4</td>
             <td>0.1.9</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.1.5</td>
             <td>0.1.11</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.1.6</td>
             <td>0.1.11</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.1.7</td>
             <td>0.2.0</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.1.8</td>
             <td>0.2.0</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.2.0</td>
             <td>0.3.0</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.2.1</td>
             <td>0.4.0</td>
             <td>Indigo</td>
         </tr>
         <tr>
             <td>0.2.2</td>
             <td>0.4.0, 0.4.1, 0.4.2</td>
             <td>Indigo</td>
        </tr>
        <tr>
             <td>0.2.3</td>
             <td>0.4.3</td>
             <td>Indigo, Kinetic</td>
        </tr>
        <tr>
             <td>0.2.4</td>
             <td>0.4.4</td>
             <td>Indigo, Kinetic</td>
        </tr>
        <tr>
             <td>0.2.5</td>
             <td>0.4.5</td>
             <td>Indigo, Kinetic</td>
        </tr>
</table>

<h2 id="prerequisites">Prerequisites</h2>

<ol>
<li><a href="http://www.ubuntu.com">Ubuntu 14.04 or 16.04</a></li>
<li><a href="http://www.ros.org/install">ROS Indigo or Kinetic</a></li>
<li><a href="https://github.com/lovepark/libo3d3xx">libo3d3xx</a></li>
</ol>

<p>Additionally, your compiler must support C++11. This package has been validated
with:</p>

<ul>
<li>g++ 4.8.2 on Ubuntu 14.04 LTS, ROS Indigo</li>
<li>g++ 5.3.x on Ubuntu 16.04 LTS, ROS Kinetic</li>
</ul>

<h2 id="building-and-installing-the-software">Building and Installing the Software</h2>

<p><strong>NOTE</strong>: Since we are talking about ROS here, we assume you are on Ubuntu
Linux.</p>

<p>You should first ensure that you have installed ROS by following
<a href="http://wiki.ros.org/ROS/Installation">these</a> instructions. The
<code>desktop-full</code> installation is highly recommended.</p>

<p>Next, you should be sure to install
<a href="https://github.com/lovepark/libo3d3xx">libo3d3xx</a>. This ROS package assumes
you have installed libo3d3xx via the supported debian installer. Step-by-step
instructions for that process now follows:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ git clone https://github.com/lovepark/libo3d3xx.git
$ cd libo3d3xx
$ mkdir build
$ cd build
$ cmake ..
$ make
</code></pre></div>
<p>We now move on to building o3d3xx-ros.</p>

<p>Building and installing o3d3xx-ros is accomplished by utilizing the ROS
<a href="http://wiki.ros.org/catkin">catkin</a> tool. There are many tutorials and other
pieces of advice available on-line advising how to most effectively utilize
catkin. However, the basic idea is to provide a clean separation between your
source code repository and your build and runtime environments. The
instructions that now follow represent how we choose to use catkin to build and
<em>permanently install</em> a ROS package from source.</p>

<p>First, we need to decide where we want our software to ultimately be
installed. For purposes of this document, we will assume that we will install
our ROS packages at <code>~/ros</code>. For convenience, we add the following to our
<code>~/.bash_profile</code>:</p>
<div class="highlight"><pre><code class="language-" data-lang="">if [ -f /opt/ros/indigo/setup.bash ]; then
    source /opt/ros/indigo/setup.bash
fi

cd ${HOME}

export LPR_ROS=${HOME}/ros

if [ -d ${LPR_ROS} ]; then
    for i in $(ls ${LPR_ROS}); do
        if [ -d ${LPR_ROS}/${i} ]; then
            if [ -f ${LPR_ROS}/${i}/setup.bash ]; then
                source ${LPR_ROS}/${i}/setup.bash --extend
            fi
        fi
    done
fi
</code></pre></div>
<p>Next, we need to get the code from github. We assume we keep all of our git
repositories in <code>~/dev</code>.</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ cd ~/dev
$ git clone https://github.com/lovepark/o3d3xx-ros.git
</code></pre></div>
<p>We now have the code in <code>~/dev/o3d3xx-ros</code>. Next, we want to create a <em>catkin
workspace</em> that we can use to build and install that code from. It is the
catkin philosophy that we do not do this directly in the source directory.</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ cd ~/dev
$ mkdir o3d3xx-catkin
$ cd o3d3xx-catkin
$ mkdir src
$ cd src
$ catkin_init_workspace
$ ln -s ~/dev/o3d3xx-ros o3d3xx
</code></pre></div>
<p>So, you should have a catkin workspace set up to build the o3d3xx-ros code that
looks basically like:</p>
<div class="highlight"><pre><code class="language-" data-lang="">[ ~/dev/o3d3xx-catkin/src ]
tpanzarella@jelly: $ pwd
/home/tpanzarella/dev/o3d3xx-catkin/src

[ ~/dev/o3d3xx-catkin/src ]
tpanzarella@jelly: $ ls -l
total 0
lrwxrwxrwx 1 tpanzarella tpanzarella 49 Dec  2 15:26 CMakeLists.txt -&gt; /opt/ros/indigo/share/catkin/cmake/toplevel.cmake
lrwxrwxrwx 1 tpanzarella tpanzarella 32 Dec  2 15:24 o3d3xx -&gt; /home/tpanzarella/dev/o3d3xx-ros
</code></pre></div>
<p>Now we are ready to build the code.</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ cd ~/dev/o3d3xx-catkin
$ catkin_make -DCATKIN_ENABLE_TESTING=ON
$ catkin_make run_tests
$ catkin_make -DCMAKE_INSTALL_PREFIX=${LPR_ROS}/o3d3xx install
</code></pre></div>
<p>The ROS package should now be installed in <code>~/ros/o3d3xx</code>. To test everything
out you should open a fresh bash shell, and start up a ROS core:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roscore
</code></pre></div>
<p>Open another shell and start the primary camera node:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx camera.launch ip:=192.168.10.69
</code></pre></div>
<p><strong>NOTE</strong>: The IP address of your camera may differ. If you are using the
factory default (192.168.0.69), you do not need to specify it on the above
<code>roslaunch</code> line.</p>

<p>Open another shell and start the rviz node to visualize the data coming from
the camera:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx rviz.launch
</code></pre></div>
<p>At this point, you should see an rviz window that looks something like:</p>

<p><img src="https://raw.githubusercontent.com//lovepark/o3d3xx-ros/master/.//doc/figures/rviz1.png" alt="rviz1"></p>

<p>Congratulations! You can now utilize o3d3xx-ros.</p>

<h2 id="nodes">Nodes</h2>

<h3 id="o3d3xx-camera">/o3d3xx/camera</h3>

<p>This node provides a real-time feed to the camera data. This node is started
from the primary <code>camera.launch</code> file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx camera.launch
</code></pre></div>
<p>The naming of the camera can be customized via the <code>ns</code> (namespace) and <code>nn</code>
(node name) command line arguments passed to the <code>camera.launch</code> file. For
example, if you specify your roslaunch command as:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx camera.launch ns:=robot nn:=front_camera
</code></pre></div>
<p>The node will have the name <code>/robot/front_camera</code> in the ROS computation
graph.</p>

<h4 id="published-topics">Published Topics</h4>

<table>
         <tr>
             <th>Topic</th>
             <th>Message</th>
             <th>Description</th>
         </tr>

         <tr>
             <td>/o3d3xx/camera/amplitude</td>
             <td>sensor_msgs/Image</td>
             <td>16-bit gray scale encoding of the sensor Amplitude image
             normalized wrt exposure time. </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/raw_amplitude</td>
             <td>sensor_msgs/Image</td>
             <td>16-bit gray scale encoding of the sensor Amplitude image
             non-normalized.</td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/cloud</td>
             <td>sensor_msgs/PointCloud2</td>
             <td>
             A 3D PCL point cloud of point type `XYZI`. In this encoding the
             intensity channel is represented by the corresponding pixel's
             amplitude data. The units of this point cloud are in meters.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/confidence</td>
             <td>sensor_msgs/Image</td>
             <td>
             An 8-bit mono image encoding of the confidence image. The meaning
             of each bit of each pixel value is discussed in the official IFM
             documentation for the camera.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/depth</td>
             <td>sensor_msgs/Image</td>
             <td>
             A 16-bit mono image encoding of the radial depth map from the
             camera. The depth units are in millimeters.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/depth_viz</td>
             <td>sensor_msgs/Image</td>
             <td>
             A rendering of the depth image utilizing a colormap more
             human-friendly for visualization purposes. For performance
             reasons, messages are only published to this topic when the
             `publish_viz_images` parameter is set to true at launch time.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/good_bad_pixels</td>
             <td>sensor_msgs/Image</td>
             <td>
             A binary image showing good vs. bad pixels on the pixel array. Bad
             pixels can be caused by numerous reasons (e.g., motion blur over
             an integration/exposure timestep). Visualizing this data is useful
             for when you are tuning your imager parameters. For performance
             reasons, messages are only published to this topic when the
             `publish_viz_images` parameter is set to true at launch time.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/xyz_image</td>
             <td>sensor_msgs/Image</td>
             <td>
             An OpenCV image encoding (CV_16SC3) of the same point cloud that
             is published to `/o3d3xx/camera/cloud` where the three image planes
             are 0 = x, 1 = y, 2 = z. Units are in millimeters yet the coord
             frame is consistent with the point cloud.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/unit_vectors</td>
             <td>sensor_msgs/Image</td>
             <td>
             An OpenCV image encoding (CV_32FC3) of the rotated unit vectors
             that can be used together with the translation vector from the
             camera extrinsics and the radial distance image to compute the
             cartesian coordinates for each pixel in the imager array off-board
             the camera. This topic is latched.
             </td>
         </tr>
         <tr>
             <td>/o3d3xx/camera/extrinsics</td>
             <td><a href="msg/Extrinsics.msg">Extrinsics.msg</a></td>
             <td>
             Extrinsics as reported by the camera. The translation vector here
             is used together with the unit vectors and the radial distance
             image to compute the Cartesian coordinates for each pixel in the
             imager array. It should be noted that for this message, the
             translational units are in mm and the rotational units are in
             degrees. This is to be consistent with the camera eventhough it is
             not necessarily consistent with ROS conventions. Usage of this
             message is really for very specialized use-cases.
             </td>
         </tr>
</table>

<h4 id="advertised-services">Advertised Services</h4>

<table>
    <tr>
        <th>Service Name</th>
        <th>Service Definition</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>/o3d3xx/camera/Config</td>
        <td><a href="srv/Config.srv">Config.srv</a></td>
        <td>
        Mutates camera settings based upon an input JSON file. <b>NOTE:</b> Due
        to what appears to be limitations in the YAML parsing of the stock ROS
        `rosservice` command line tool (i.e., it does not handle JSON as string
        payload well) you will have to use the
        <i>/o3d3xx/camera/config_node</i> to configure the camera. This is
        explained in further detail below.
        </td>
    </tr>
    <tr>
        <td>/o3d3xx/camera/Dump</td>
        <td><a href="srv/Dump.srv">Dump.srv</a></td>
        <td>
        Dumps the current configuration of the camera to a JSON string. The
        output of this dump is suitable for editing and passing to the `Config`
        service for configuring the camera.
        </td>
    </tr>
    <tr>
        <td>/o3d3xx/camera/GetVersion</td>
        <td><a href="srv/GetVersion.srv">GetVersion.srv</a></td>
        <td>
        Returns the current version of the underlying
        <a href="https://github.com/lovepark/libo3d3xx">libo3d3xx</a> library
        that this ROS node is linked to.
        </td>
    </tr>
    <tr>
        <td>/o3d3xx/camera/Rm</td>
        <td><a href="srv/Rm.srv">Rm.srv</a></td>
        <td>Removes an application from the camera. This service will restrict
        removing the current active application.
        </td>
    </tr>
    <tr>
        <td>/o3d3xx/camera/Trigger</td>
        <td><a href="srv/Trigger.srv">Trigger.srv</a></td>
        <td>
        Sends a software trigger signal to the camera.
        </td>
    </tr>
</table>

<h4 id="parameters">Parameters</h4>

<table>
    <tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
    <tr>
        <td>ip</td>
        <td>string</td>
        <td>IP address of the camera</td>
    </tr>
    <tr>
        <td>xmlrpc_port</td>
        <td>int</td>
        <td>TCP port the camera's XMLRPC server is listening on</td>
    </tr>
    <tr>
        <td>password</td>
        <td>string</td>
        <td>Password to use to connect to the camera</td>
    </tr>
    <tr>
        <td>schema_mask</td>
        <td>uint16_t</td>
        <td>Mask controlling which image types to stream back from the
           camera. This is useful for numerous reasons. It allows for
           conserving bandwidth between the host computer and the camera or
           lessens the CPU cycles required by the camera to compute image data
           which may result in an increased frame rate. See the o3d3xx-schema
           command line tool for generating custom masks.</td>
    </tr>
    <tr>
        <td>timeout_millis</td>
        <td>int</td>
        <td>Time, in milliseconds, to block when waiting for a frame from the
        camera before timing out.</td>
    </tr>
    <tr>
        <td>timeout_tolerance_secs</td>
        <td>double</td>
        <td>Time, in seconds, to wait before trying to restart the underlying
        framegrabber if it is currently experiencing timeouts while trying to
        capture image data.</td>
    </tr>
    <tr>
        <td>publish_viz_images</td>
        <td>bool</td>
        <td>
        In general, for a runtime system, the core data a system will want from
        this camera include the `cloud`, `depth`, `amplitude`, and `confidence`
        images. This node will always publish those data. However, if you set
        this parameter to `true` a few additional images are published. These
        are `depth_viz` and `good_bad_pixels` (they are described
        above in the `Topics` section). These <i>viz images</i> are intended
        for human analysis and visualization in `rviz`.
        </td>
    </tr>
    <tr>
        <td>assume_sw_trigger</td>
        <td>bool</td>
        <td>
        If your application intends to use software triggering (as opposed to a
        free-running framegrabber), this parameter does four things. First, it
        will not print out framegrabber timeout messages to the
        rosconsole. Second, it will set, a-priori, the `timeout_millis`
        parameter to 500 milliseconds (this is so that the node will release
        the framegrabber mutex in the main publishing loop). Third, this will
        set the `timeout_tolerance_secs` to 600 seconds so that the
        framegrabber is not constantly getting recycled unnecessarily. Fourth,
        it sets the `GLOG_minloglevel` environment variable to 3 (ERROR). This
        is so the underlying `libo3d3xx` library does not fill your log files
        with timeout messages which it emits at the WARNING level.
        </td>
    </tr>
    <tr>
        <td>frame_id_base</td>
        <td>string</td>
        <td>tf frame prefix</td>
    </tr>
</table>

<h3 id="o3d3xx-camera_tf">/o3d3xx/camera_tf</h3>

<p>This node is of type <code>tf/static_transform_publisher</code>. It establishes a frame_id
for the camera in the global tf tree. This node is launched from the primary
<code>camera.launch</code> file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx camera.launch
</code></pre></div>
<p>When run as above, the tf publishing node would be named <code>/o3d3xx/camera_tf</code>
and the camera coordinate frame would be <code>o3d3xx/camera_link</code> in the tf tree.</p>

<p>You can customize this naming via the <code>frame_id_base</code> arg or implicitly through
the <code>ns</code> (namespace) and <code>nn</code> (node name) command line arguments passed to the
<code>camera.launch</code> file. For example, if you specify your roslaunch command as:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx camera.launch ns:=robot nn:=front_camera
</code></pre></div>
<p>The node name will be <code>/robot/front_camera_tf</code> and the camera frame will
be <code>robot/front_camera_link</code> in the tf tree.</p>

<h3 id="o3d3xx-camera-config_node">/o3d3xx/camera/config_node</h3>

<p>This node is used as a proxy to simplify calling the <code>/o3d3xx/camera/Config</code>
service offered by the <code>/o3d3xx/camera</code> node. It was noted above that there
appears to be a limitation in the YAML parser of the ROS <code>rosservice</code> command
line tool. Specifically, it seems that it is not capable of assigning a JSON
string to a variable. This is the reason for this node. This is not a
long-running node but rather works like a typical command-line tool would: you
invoke it, it runs, and exits. The following command line will launch this
node:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx config.launch
</code></pre></div>
<h4 id="parameters">Parameters</h4>

<table>
    <tr>
<th>Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
    <tr>
        <td>infile</td>
        <td>string</td>
        <td>
        By default, this node will read `stdin` for a JSON string to use to
        pass to the `/o3d3xx/camera/Config` service. However, if this parameter
        is specified it will read the JSON from this file.
        </td>
    </tr>
</table>

<h3 id="rviz">/rviz</h3>

<p>This package offers a launch script that wraps the execution of <code>rviz</code> so that
the display will be conveniently configured for visualizing the
<code>/o3d3xx/camera</code> data. To launch this node:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx rviz.launch
</code></pre></div>
<p>Running the command as above will color the point cloud with the
data from the normalized amplitude image (i.e., the intensity).</p>

<p>The rviz window should look something like (assuming you are coloring the point
cloud with the intensity data):</p>

<p><img src="https://raw.githubusercontent.com//lovepark/o3d3xx-ros/master/.//doc/figures/rviz1.png" alt="rviz1"></p>

<h3 id="o3d3xx-camera-xxx_throttler">/o3d3xx/camera/XXX_throttler</h3>

<p>This package offers a launch script that wraps the
<a href="http://wiki.ros.org/topic_tools/throttle">topic_tools/throttler</a> node
so that it can throttle the core topics from the camera. Specifically, it will
throttle <code>/o3d3xx/camera/cloud</code> to <code>/o3d3xx/camera/cloud_throttle</code>,
<code>/o3d3xx/camera/amplitude</code> to <code>/o3d3xx/camera/amplitude_throttle</code>,
<code>/o3d3xx/camera/raw_amplitude_throttle</code>,
<code>/o3d3xx/camera/depth</code> to <code>/o3d3xx/camera/depth_throttle</code>,
<code>/o3d3xx/camera/confidence</code> to <code>/o3d3xx/camera/confidence_throttle</code>. To launch
this node:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx throttled.launch
</code></pre></div>
<p>By default, it will throttle the above named topics to 1 Hz. You can change the
frequency with the <code>hz</code> command line argument. For example, to send data at 2
Hz:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx throttled.launch hz:=2.0
</code></pre></div>
<p>Using this launch file to launch this set of nodes is strictly optional. We
have found use for it in two ways. First, to slow down the publishing frequency
of the topics when used in conjunction with the <code>/o3d3xx/camera/file_writer</code>
node for collecting data (i.e., in those instances when we really do not need
all the data but rather some subsampling of it). Second, if we are running the
camera on a drone (for example) that has a slower radio link down to a ground
control station running <code>rviz</code> where we want to see what the camera sees while
the drone is in flight. Clearly there are other uses for this, YMMV.</p>

<h2 id="configuring-camera-settings">Configuring Camera Settings</h2>

<p>Configuring the camera is accomplished by passing a JSON string to the
<code>/o3d3xx/camera/config_node</code> which will call the <code>/o3d3xx/camera/Config</code>
service to mutate the camera settings. Using a JSON string to configure the
camera has the following primary benefits:</p>

<ol>
<li>Configuration is declarative. The camera configuration will reflect that
which is described by the JSON file.</li>
<li>The JSON data is human-consumable and easily edited in a text editor. This
makes it very convenient for headless embedded systems.</li>
<li>The JSON data is machine parsable, so configuring the camera on the fly via
programmable logic is also possible.</li>
</ol>

<p>There are also a few downfalls to using JSON. Most notably the lack of comments
and an enforceable schema. One could argue that the latter keeps things
flexible. None-the-less, JSON is the format used by <code>libo3d3xx</code> and, by
extension, this ROS package.</p>

<p>An exemplary JSON file is shown <a href="json/ex_camera.json">here</a> (this is the result
of calling the <code>/o3d3xx/camera/Dump</code> service on a development system). When
passing a JSON string (like the previously linked to file) to the
<code>/o3d3xx/camera/Config</code> service (or to the <code>/o3d3xx/camera/config_node</code>) the
following rules are used to configure the camera:</p>

<ol>
<li>The <code>Device</code> section is processed and saved on the camera.</li>
<li>The <code>Apps</code> section is processed. For each app:

<ol>
<li>If the <code>Index</code> key is present, a current app at that <code>Index</code> is looked
up. If present, it is edited to reflect the data in the JSON file. If an
app at that <code>Index</code> is not present, a new app is created with the
parameters from the JSON file. It is not guaranteed that the new app will
have the specified <code>Index</code>.</li>
<li>If the <code>Index</code> key is not present, a new app is created with the
parameters as specified in the JSON file.</li>
</ol>
</li>
<li>The active application is set by consulting the desired index of the
<code>ActiveApplication</code> from the <code>Device</code> section of the JSON. If the specified
<code>Index</code> does not exist, the active application is not set.</li>
<li>The <code>Net</code> section is processed. A reboot of the camera may be necessary
after changing the camera's network parameters. Additionally, you will
likely need to restart the <code>/o3d3xx/camera</code> node pointing it to the new IP
address (if that is what you changed).</li>
</ol>

<p>It should also be noted that any portion of the JSON tree can be specfied to
configure only that part of the camera. The only rule to follow is that all
keys should be fully qualified. For example, to simply set the active
application, you can use a JSON snippet like this:</p>
<div class="highlight"><pre><code class="language-" data-lang=""><span class="p">{</span><span class="w">
    </span><span class="nt">"o3d3xx"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Device"</span><span class="p">:</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"ActiveApplication"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>The above snippet is provided as an example <a href="json/ex_set_active.json">here</a>. To
apply this to your camera, you can:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx config.launch infile:=/path/to/ex_set_active.json
</code></pre></div>
<p>It was also noted above that the <code>/o3d3xx/camera/config_node</code> will read <code>stdin</code>
by default, so you could also:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ echo '{"o3d3xx":{"Device":{"ActiveApplication":"2"}}}' | roslaunch o3d3xx config.launch
</code></pre></div>
<p><a href="json/ex_add_app.json">Here</a> is another example JSON file. This one will add a
new application to the camera, using the default values for the high-dynamic
range imager. We note that this application is <em>added</em> to the camera because no
<code>Index</code> is specified for the application. If an <code>Index</code> were specfied, the
application at the specified <code>Index</code>, if present, would be edited to reflect
this configuration.</p>

<p>In general, a simple way to configure camera settings without having to
memorize the JSON syntax would be to simply dump the current camera settings to
a file:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ rosservice call /o3d3xx/camera/Dump &gt; /tmp/camera.json
</code></pre></div>
<p>Then, open <code>/tmp/camera.json</code> with a text editor to create a declarative JSON
configuration for your camera. You should be sure to delete the variable names
from the <code>rosservice</code> output if you are following this example
<em>word-for-word</em>. Additionally, you can delete any unnecessary keys if you would
like, however it is not strictly necessary as the <code>/o3d3xx/camera/Config</code>
service will leave unedited values unchanged on the camera. Once you have a
configuration that you like, you can:</p>
<div class="highlight"><pre><code class="language-" data-lang="">$ roslaunch o3d3xx config.launch infile:=/tmp/camera.json
</code></pre></div>
<p>You can check that your configuration is active by calling the
<code>/o3d3xx/camera/Dump</code> service again.</p>

<h2 id="todo">TODO</h2>

<p>Please see the <a href="https://github.com/lovepark/o3d3xx-ros/issues">Github Issues</a>.</p>

<h2 id="license">LICENSE</h2>

<p>Please see the file called LICENSE.</p>

<h2 id="authors">AUTHORS</h2>

<p>Tom Panzarella <a href="mailto:tom@loveparkrobotics.com">tom@loveparkrobotics.com</a></p>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div class="rendered-markdown">
<h1 id="changes-between-o3d3xx-ros-0-2-4-and-0-2-5">Changes between o3d3xx-ros 0.2.4 and 0.2.5</h1>

<ul>
<li>Addressed bug in unit tests (services test)</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-2-3-and-0-2-4">Changes between o3d3xx-ros 0.2.3 and 0.2.4</h1>

<ul>
<li>Implemented a new <code>/Trigger</code> service for cameras configured in
software-triggered mode.</li>
<li>Added a <code>assume_sw_trigger</code> parameter to the camera launch file to optimize
some settings when running in software triggered mode.</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-2-2-and-0-2-3">Changes between o3d3xx-ros 0.2.2 and 0.2.3</h1>

<ul>
<li>Tweaks to support Kinetic Kame on Ubuntu 16.04 (Xenial)</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-2-1-and-0-2-2">Changes between o3d3xx-ros 0.2.1 and 0.2.2</h1>

<ul>
<li>Loosened up the libo3d3xx version checking in CMakeLists.txt</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-2-0-and-0-2-1">Changes between o3d3xx-ros 0.2.0 and 0.2.1</h1>

<h3 id="frame-id-is-configurable-and-topic-names-are-relative">Frame id is configurable and topic names are relative</h3>

<ul>
<li>See <a href="https://github.com/lovepark/o3d3xx-ros/pull/17">PR17</a>
</li>
</ul>

<h3 id="libo3d3xx-0-4-0">libo3d3xx 0.4.0</h3>

<ul>
<li>The new modularized <code>libo3d3xx</code> is now used as the underlying driver.</li>
</ul>

<h3 id="test-test_services">test/test_services</h3>

<ul>
<li>New test to ensure calling the <code>/Dump</code> and <code>/Config</code> services work.</li>
</ul>

<h3 id="cmake-findxxx">cmake/FindXXX</h3>

<ul>
<li>Copied the following FindXXX cmake scripts from <code>libo3d3xx</code>:

<ul>
<li>Findo3d3xx_camera</li>
<li>Findo3d3xx_framegrabber</li>
<li>Findo3d3xx_image</li>
</ul>
</li>
</ul>

<h3 id="deprecations-and-eliminations">Deprecations and Eliminations</h3>

<ul>
<li>FileWriteNode has been removed from project. Use <code>rosbag</code>.</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-1-8-and-0-2-0">Changes between o3d3xx-ros 0.1.8 and 0.2.0</h1>

<h3 id="o3d3xx_node">o3d3xx_node</h3>

<ul>
<li>Aware of pluggable pcic schema masks</li>
<li>Publishes unit vectors (on a latched topic)</li>
<li>Publishes camera extrinsics</li>
<li>Now that we are publishing a proper transform between the camera frame and
the optical frame (see below) we are tagging our published topics with the
appropriate frame_id. Specfically, the cartesian data are marked to be in the
camera frame (using ROS conventions) and the other data are marked as in the
optical frame (O3D conventions).</li>
</ul>

<h3 id="launch-camera-launch">launch/camera.launch</h3>

<ul>
<li><p>You can now pass a schema mask parameter to the camera to selectively choose
which images are streamed back from the camera to the host.</p></li>
<li><p>Now that we are providing the ability to compute the Cartesian data off-board
the camera, the tf2 static_transform_publisher is now publishing out a
proper transform between the camera frame and the optical frame. If you
compute the Cartesian data off-board the camera by utilizing the extrinsics,
unit vectors, and radial distance image, those computed Cartesian values will
be expressed in the camera optical frame. To get them into a standard ROS
coord frame, the data will need to be transformed. By publishing this
transform via tf2, users can use the tf2 API to compute the transformation.</p></li>
</ul>

<h3 id="launch-o3d3xx-rviz">launch/o3d3xx.rviz</h3>

<ul>
<li>Added an Axes marker to the display (not selected by default). This is
necessary if you want to inspect the difference between the camera frame and
its optical frame. Since there is no translation, only a rotation, flipping
the coord on an axes marker seems easier to grok than how the tf display is
rendering.</li>
</ul>

<h3 id="cmake-findlibo3d3xx-cmake">cmake/Findlibo3d3xx.cmake</h3>

<ul>
<li>Aware of new <code>libo3d3xx</code> default install location into <code>/usr</code>
</li>
</ul>

<h3 id="test-test_camera-py">test/test_camera.py</h3>

<ul>
<li>Added new unit test that tests:

<ul>
<li>Getting data from the camera</li>
<li>Computing the Cartesian data and comparing it to ground truth</li>
<li>To do the comparison to ground truther, the computed cartesian data
must also be transformed, to do that we use the tf2 API and hence The
transform from the optical frame to the camera frame that we are
publishing is also tested.</li>
</ul>
</li>
</ul>

<p>NOTE: The unit test(s) currently require the hardware to be present as it works
with live data.</p>

<h3 id="deprecations-and-eliminations">Deprecations and Eliminations</h3>

<ul>
<li>The amplitude histogram is no longer being published.</li>
<li>The <code>rviz</code> config that colors the point cloud pixels with the x-depth has
been eliminated. Pixels will be colored with the normalized amplitude.</li>
<li>FileWriteNode has been deprecated. It is slated to disappear in the next
minor release and definitely will be vaporized by 1.0.0. Data collection
pipelines should be updated to use <code>rosbag</code> or some other tool.</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-1-7-and-0-1-8">Changes between o3d3xx-ros 0.1.7 and 0.1.8</h1>

<h3 id="o3d3xx_node">o3d3xx_node</h3>

<ul>
<li>A new parameter, <code>timeout_tolerance_secs</code> has been added. This is a timeout
period to wait before attempting to restart the underlying frame grabber if
it is currently timing out while asking for image data. This has been added
to add a level of robustness to things like network cables getting yanked out
or allowing the camera to undergo a power cycle without having to restart the
ROS processes. Bascially, a way of autonomously recovering from anything that
would break the TCP connection between the underlying ASIO event loop in
<code>libo3d3xx</code> and the O3D camera's PCIC interface. Good for robots.</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-1-6-and-0-1-7">Changes between o3d3xx-ros 0.1.6 and 0.1.7</h1>

<h3 id="o3d3xx_node">o3d3xx_node</h3>

<ul>
<li>Publishes the raw amplitude image</li>
</ul>

<h3 id="rviz">rviz</h3>

<ul>
<li>The rviz configuration files now stack in the raw amplitude as a new pane
along with the normalized amplitude and the amplitude histogram.</li>
</ul>

<h3 id="launch-throttled-launch">launch/throttled.launch</h3>

<ul>
<li>throttles the <code>raw_amplitude</code> topic</li>
</ul>

<h3 id="file_writer_node">file_writer_node</h3>

<ul>
<li>The <code>raw_amplitude</code> image is now serialized to the file system as a
(losslessly compressed) PNG.</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-1-5-and-0-1-6">Changes between o3d3xx-ros 0.1.5 and 0.1.6</h1>

<h3 id="launch-throttled-launch">launch/throttled.launch</h3>

<ul>
<li>throttles the <code>xyz_image</code> topic</li>
</ul>

<h3 id="launch-camera-launch">launch/camera.launch</h3>

<ul>
<li>Moved to tf2 for the static_transform_publisher. The transform from
/o3d3xx/camera_link to /o3d3xx/camera_optical_link is now published on
/tf_static (a latched topic) for efficiency.</li>
</ul>

<h3 id="file_writer_node">file_writer_node</h3>

<ul>
<li>The <code>xyz_image</code> is now serialized to the file system in OpenCV FileStorage
format (YAML).</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-1-4-and-0-1-5">Changes between o3d3xx-ros 0.1.4 and 0.1.5</h1>

<h3 id="o3d3xx_node">o3d3xx_node</h3>

<ul>
<li>The <code>xyzi_image</code> has been replaced by an <code>xyz_image</code>. The <code>xyz_image</code> is a
representation of the point cloud encoded as an opencv image (CV_16SC3) where
the 3 image planes are: 0 = x, 1 = y, 2 = z. The data in this image are
signed 16-bit integers and the units are in mm. This is a change from the
original implementation of the <code>xyzi_image</code> introduced in version 0.1.4. The
intensity data can still be referenced via the <code>amplitude</code> image. Keeping the
units in mm allows for using the more efficient 16-bit signed int type as
opposed to 32-bit floats. Also note that since the image is being constructed
by the underlying <code>libo3d3xx</code> driver, there is no longer a flag in the launch
file to turn on/off the publishing of this data.</li>
</ul>

<h3 id="launch-camera-launch">launch/camera.launch</h3>

<ul>
<li>Fixed the parent-child relationship between the tf frames</li>
</ul>

<h1 id="changes-between-o3d3xx-ros-0-1-3-and-0-1-4">Changes between o3d3xx-ros 0.1.3 and 0.1.4</h1>

<h3 id="o3d3xx_node">o3d3xx_node</h3>

<ul>
<li>All published topics now have timestamps in the message header</li>
<li>The main camera node can now publish an <code>xyzi_image</code>. This is a
representation of the point cloud (same exact data) encoded as an opencv
image (CV_32FC4) where the 4 image planes are: 0 = x, 1 = y, 2 = z, 3 =
intensity. This has been introduced to enable easier interop between PCL and
numpy for doing point cloud analysis. While you can iterate over point
cloud messages in python with existing ROS-provided tools. It is dreadfully
slow. By providing an OpenCV image encoding of the point cloud, a numpy
array can be created at C++ speed. Publishing this image can be turned on/off
via the <code>camera.launch</code> file so that no additional overhead will be realized
by users who do not wish to exploit this feature.</li>
</ul>

<h3 id="file_writer_node">file_writer_node</h3>

<ul>
<li>A dump of the camera configuration (JSON) is now written to the output
directory upon launching the node, prior to data capture.</li>
</ul>

<h1 id="the-initial-release-of-o3d3xx-ros-was-0-1-3">The initial release of o3d3xx-ros was 0.1.3</h1>
</div></body></html>

            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>See <a href="http://wiki.ros.org/o3d3xx/Tutorials" target="_blank">ROS Wiki Tutorials</a> for more details.</em>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Source Tutorials</h3>
      </div>
      <div class="panel-body">
        <em>Not currently indexed.</em>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-deps">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th class="text-center"><span class="glyphicon glyphicon-th"></span></th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/image_transport#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/image_transport" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/image_transport#indigo">image_transport</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/pcl_ros#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/pcl_ros" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/pcl_ros#indigo">pcl_ros</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/cv_bridge#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/cv_bridge" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/cv_bridge#indigo">cv_bridge</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/roscpp#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/roscpp" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/roscpp#indigo">roscpp</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/sensor_msgs#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/sensor_msgs" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/sensor_msgs#indigo">sensor_msgs</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/std_msgs#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/std_msgs" class="label label-primary">
                            2
                          </a>
                        </td>
                        <td><a href="/p/std_msgs#indigo">std_msgs</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/tf#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/tf" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/tf#indigo">tf</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/message_generation#indigo-deps" >
                            <span class="glyphicon glyphicon-arrow-left"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/message_generation" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/message_generation#indigo">message_generation</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="indigo-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./launch/throttled.launch" target="_blank">launch/throttled.launch</a>
                <ul class="list-unstyled">
                  
                    <li><em></em></li>
                  
                  <li>
                    <ul>
                      
                        
                          <li><strong>ns</strong> <em>&#91;default: o3d3xx&#93; </em></li>
                        
                      
                        
                          <li><strong>nn</strong> <em>&#91;default: camera&#93; </em></li>
                        
                      
                        
                          <li><strong>hz</strong> <em>&#91;default: 1.0&#93; </em></li>
                        
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./launch/rviz.launch" target="_blank">launch/rviz.launch</a>
                <ul class="list-unstyled">
                  
                    <li><em></em></li>
                  
                  <li>
                    <ul>
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./launch/config.launch" target="_blank">launch/config.launch</a>
                <ul class="list-unstyled">
                  
                    <li><em></em></li>
                  
                  <li>
                    <ul>
                      
                        
                          <li><strong>ns</strong> <em>&#91;default: o3d3xx&#93; </em></li>
                        
                      
                        
                          <li><strong>nn</strong> <em>&#91;default: camera&#93; </em></li>
                        
                      
                        
                          <li><strong>infile</strong> <em>&#91;default: -&#93; </em></li>
                        
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./launch/camera.launch" target="_blank">launch/camera.launch</a>
                <ul class="list-unstyled">
                  
                    <li><em></em></li>
                  
                  <li>
                    <ul>
                      
                        
                          <li><strong>ns</strong> <em>&#91;default: o3d3xx&#93; </em></li>
                        
                      
                        
                          <li><strong>nn</strong> <em>&#91;default: camera&#93; </em></li>
                        
                      
                        
                          <li><strong>ip</strong> <em>&#91;default: 192.168.0.69&#93; </em></li>
                        
                      
                        
                          <li><strong>xmlrpc_port</strong> <em>&#91;default: 80&#93; </em></li>
                        
                      
                        
                          <li><strong>password</strong> <em>&#91;default: &#93; </em></li>
                        
                      
                        
                          <li><strong>schema_mask</strong> <em>&#91;default: 15&#93; </em></li>
                        
                      
                        
                          <li><strong>timeout_millis</strong> <em>&#91;default: 500&#93; </em></li>
                        
                      
                        
                          <li><strong>timeout_tolerance_secs</strong> <em>&#91;default: 5.0&#93; </em></li>
                        
                      
                        
                          <li><strong>publish_viz_images</strong> <em>&#91;default: true&#93; </em></li>
                        
                      
                        
                          <li><strong>frame_id_base</strong> <em>&#91;default: $(arg ns)/$(arg nn)&#93; </em></li>
                        
                      
                        
                          <li><strong>respawn</strong> <em>&#91;default: false&#93; </em></li>
                        
                      
                        
                          <li><strong>assume_sw_triggered</strong> <em>&#91;default: false&#93; </em></li>
                        
                      
                    </ul>
                  </li>
                </ul>
              </li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./msg/Extrinsics.msg" target="_blank">msg/Extrinsics.msg</a></li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <ul>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./srv/Rm.srv" target="_blank">srv/Rm.srv</a></li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./srv/GetVersion.srv" target="_blank">srv/GetVersion.srv</a></li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./srv/Dump.srv" target="_blank">srv/Dump.srv</a></li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./srv/Config.srv" target="_blank">srv/Config.srv</a></li>
            
              <li><a href="https://github.com//lovepark/o3d3xx-ros/tree/master/./srv/Trigger.srv" target="_blank">srv/Trigger.srv</a></li>
            
          </ul>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>
</div>

<script src="/js/package_body_tabs.js"></script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item" target="_blank" href="http://docs.ros.org/indigo/api/o3d3xx/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span> API Docs</a>
  <a class="list-group-item" target="_blank" href="https://github.com//lovepark/o3d3xx-ros/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span> Browse Code</a>
  <a class="list-group-item" target="_blank" href="http://answers.ros.org/questions/scope:all/sort:activity-desc/tags:o3d3xx/page:1/"><span style="margin-right: 5px;" class="glyphicon glyphicon-question-sign"></span> Get Help</a>
  <a class="list-group-item inactive" target="_blank" href="http://wiki.ros.org/o3d3xx?distro=indigo"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span> Wiki</a>
  <a class="list-group-item inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=o3d3xx&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span> Eco</a>
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-groovy">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>groovy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-fuerte">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>fuerte</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-electric">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>electric</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-diamondback">
    <div class="container-fluid">
      
          <div class="alert alert-warning">No version for distro <strong>diamondback</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script src="/js/distro_switch.js"></script>


      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/rosindex">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">rosindex</span>
          </a>
          |
          <em>generated on 2016-07-04</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
